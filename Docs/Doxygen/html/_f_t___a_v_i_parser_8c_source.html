<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EveApps Project: D:/eclipse-workspace/BridgeTek/EveApps/EveApps/DemoApps/MediaPlayer/libs/AviPlayer/FT_AVIParser.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div style="z-index:3; width: 100vw; height: 100px; left: 0px;" > 
  <a href="index.html" ><svg style="z-index:2; height: 80%; width: auto; float: left;"
     xmlns:dc="http://purl.org/dc/elements/1.1/"
     xmlns:cc="http://creativecommons.org/ns#"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:svg="http://www.w3.org/2000/svg"
     xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 704.8667 213.38667"
     height="213.38667"
     width="704.8667"
     xml:space="preserve"
     id="svg2"
     version="1.1">
    <metadata
       id="metadata8">
      <rdf:RDF>
        <cc:Work
           rdf:about="">
          <dc:format>image/svg+xml</dc:format>
          <dc:type
             rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        </cc:Work>
      </rdf:RDF>
    </metadata>
    <defs
       id="defs6" />
    <g
       transform="matrix(1.3333333,0,0,-1.3333333,0,213.38667)"
       id="g10">
      <g
         transform="scale(0.1)"
         id="g12">
        <path
           id="path14"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 783.457,192.039 192.074,783.426 c -9.261,9.258 -9.261,24.285 -0.015,33.527 l 591.382,591.377 c 4.664,4.67 10.688,6.99 16.711,7 v 114.7 c -35.582,-0.01 -71.16,-13.46 -98.05,-40.35 L 110.719,898.293 C 56.8047,844.379 56.7734,756.047 110.734,702.086 L 702.117,110.699 C 729.066,83.75 764.609,70.2813 800.152,70.2813 V 185.129 c -6.047,0.012 -12.097,2.32 -16.695,6.91" />
        <path
           id="path16"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 791.809,1281.92 318.488,808.598 c -4.621,-4.621 -4.636,-12.168 -0.015,-16.789 l 473.336,-473.34 c 2.296,-2.297 5.32,-3.438 8.343,-3.438 v 970.349 c -3.023,-0.01 -6.043,-1.16 -8.343,-3.46" />
        <path
           id="path18"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 179.672,1059.81 81.3398,1158.14 0,1076.8 l 98.332,-98.331 81.34,81.341" />
        <path
           id="path20"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 327.094,1207.23 -98.332,98.33 -81.34,-81.33 98.332,-98.34 81.34,81.34" />
        <path
           id="path22"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 474.516,1354.65 -98.332,98.33 -81.34,-81.34 98.332,-98.32 81.34,81.33" />
        <path
           id="path24"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 621.922,1502.06 -98.332,98.33 -81.324,-81.32 98.332,-98.34 81.324,81.33" />
        <path
           id="path26"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 98.3516,621.934 0,523.59 81.3398,442.25 179.691,540.602 98.3516,621.934" />
        <path
           id="path28"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 245.754,474.531 -98.348,-98.351 81.34,-81.34 98.348,98.351 -81.34,81.34" />
        <path
           id="path30"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 393.191,327.09 -98.347,-98.34 81.34,-81.34 98.347,98.34 -81.34,81.34" />
        <path
           id="path32"
           style="fill:#ed1c24;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 442.246,81.3398 523.59,0 621.938,98.3516 540.598,179.691 442.246,81.3398" />
        <path
           id="path34"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1264.65,213.852 h 9.29 c 16.51,0 22.19,6.199 22.19,26.828 0,20.64 -5.68,26.57 -22.19,26.57 h -9.29 c -1.04,0 -1.54,-0.52 -1.54,-1.551 v -50.301 c 0,-1.027 0.5,-1.546 1.54,-1.546 z m 9.29,77.128 c 15.22,0 20.37,4.641 20.37,23.989 0,19.351 -5.15,24.25 -20.37,24.25 h -9.29 c -1.04,0 -1.54,-0.52 -1.54,-1.559 v -45.129 c 0,-1.031 0.5,-1.551 1.54,-1.551 z m -38.42,70.68 c 0,1.551 1.01,2.57 2.58,2.57 h 38.41 c 31.48,0 45.41,-14.191 45.41,-45.378 0,-21.672 -7.47,-32.25 -20.36,-37.93 v -0.524 c 13.15,-3.859 22.44,-16.757 22.44,-39.976 0,-38.953 -17.04,-51.582 -51.1,-51.582 h -34.8 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path36"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1482.31,312.129 c 0,20.641 -6.72,27.09 -22.19,27.09 h -9.04 c -1.03,0 -1.54,-0.52 -1.54,-1.559 v -51.058 c 0,-1.043 0.51,-1.551 1.54,-1.551 h 9.04 c 15.47,0 22.19,6.187 22.19,27.078 z m 6.18,-123.289 c -1.54,0 -2.32,0.512 -2.83,1.801 l -21.43,69.91 h -4.36 -8.79 c -1.03,0 -1.54,-0.52 -1.54,-1.551 v -67.59 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -22.44 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25 c 0,1.551 1.01,2.57 2.58,2.57 h 35.34 c 31.19,0 50.03,-13.671 50.03,-52.101 0,-22.957 -7.73,-37.391 -20.91,-44.879 l 24.77,-75.84 c 0.53,-1.289 0,-2.57 -1.29,-2.57 h -23.98" />
        <path
           id="path38"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1610.71,361.66 c 0,1.551 1,2.57 2.57,2.57 h 22.44 c 1.54,0 2.58,-1.019 2.58,-2.57 V 191.41 c 0,-1.539 -1.04,-2.57 -2.58,-2.57 h -22.44 c -1.57,0 -2.57,1.031 -2.57,2.57 v 170.25" />
        <path
           id="path40"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1771.09,213.852 h 11.11 c 9.79,0 15.47,3.878 18.55,12.648 2.07,6.449 3.1,14.949 3.1,50.039 0,35.07 -1.03,43.59 -3.1,50.043 -3.08,8.77 -8.76,12.637 -18.55,12.637 h -11.11 c -1.04,0 -1.54,-0.52 -1.54,-1.559 V 215.398 c 0,-1.027 0.5,-1.546 1.54,-1.546 z m -29.13,147.808 c 0,1.551 1.01,2.57 2.58,2.57 h 40.48 c 22.97,0 36.38,-9.281 42.56,-28.109 3.11,-9.539 4.39,-21.422 4.39,-59.582 0,-38.18 -1.28,-50.039 -4.39,-59.578 -6.18,-18.832 -19.59,-28.121 -42.56,-28.121 h -40.48 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path42"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1929.43,276.539 c 0,48.742 0.78,54.941 3.36,62.68 5.68,17.269 19.86,27.332 41.52,27.332 25.26,0 40.77,-13.403 43.59,-41 0.25,-1.563 -0.78,-2.84 -2.07,-3.09 l -20.87,-3.609 c -1.57,-0.274 -2.6,0.5 -2.86,2.046 -1.28,13.672 -7.21,20.641 -17.54,20.641 -7.47,0 -13.4,-3.879 -15.22,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 8.25,-9.801 15.47,-9.801 7.5,0 13.94,3.859 15.76,9.801 1.28,4.39 1.79,6.961 1.79,39.461 0,1.039 -0.51,1.551 -1.54,1.551 h -13.69 c -1.53,0 -2.57,1.027 -2.57,2.578 v 19.082 c 0,1.547 1.04,2.59 2.57,2.59 h 39.23 c 1.54,0 2.58,-1.043 2.58,-2.59 v -7.742 c 0,-48.489 -0.79,-54.668 -3.36,-62.418 -5.68,-17.282 -19.87,-27.34 -41.27,-27.34 -21.66,0 -35.84,10.058 -41.52,27.34 -2.58,7.75 -3.36,13.929 -3.36,62.687" />
        <path
           id="path44"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2118.71,361.66 c 0,1.551 1.01,2.57 2.58,2.57 h 22.44 c 1.54,0 2.57,-1.019 2.57,-2.57 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -22.44 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path46"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2249.97,361.66 c 0,1.551 1.01,2.57 2.57,2.57 h 27.34 c 2.07,0 3.11,-0.769 3.61,-2.57 L 2316,240.422 h 1.29 V 361.66 c 0,1.551 1.03,2.57 2.57,2.57 h 19.09 c 1.53,0 2.57,-1.019 2.57,-2.57 V 191.41 c 0,-1.539 -1.04,-2.57 -2.57,-2.57 h -25.55 c -2.04,0 -3.08,0.769 -3.61,2.57 l -34.05,121.238 h -1.54 V 191.41 c 0,-1.539 -1.04,-2.57 -2.57,-2.57 h -19.09 c -1.56,0 -2.57,1.031 -2.57,2.57 v 170.25" />
        <path
           id="path48"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2442.08,276.539 c 0,48.742 0.78,54.941 3.36,62.68 5.68,17.269 19.86,27.332 41.52,27.332 25.27,0 40.77,-13.403 43.59,-41 0.25,-1.563 -0.78,-2.84 -2.07,-3.09 l -20.87,-3.609 c -1.57,-0.274 -2.6,0.5 -2.85,2.046 -1.29,13.672 -7.22,20.641 -17.55,20.641 -7.47,0 -13.4,-3.879 -15.22,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 8.25,-9.801 15.47,-9.801 7.5,0 13.94,3.859 15.76,9.801 1.28,4.39 1.79,6.961 1.79,39.461 0,1.039 -0.51,1.551 -1.54,1.551 h -13.68 c -1.54,0 -2.58,1.027 -2.58,2.578 v 19.082 c 0,1.547 1.04,2.59 2.58,2.59 h 39.22 c 1.54,0 2.58,-1.043 2.58,-2.59 v -7.742 c 0,-48.489 -0.79,-54.668 -3.36,-62.418 -5.68,-17.282 -19.87,-27.34 -41.27,-27.34 -21.66,0 -35.84,10.058 -41.52,27.34 -2.58,7.75 -3.36,13.929 -3.36,62.687" />
        <path
           id="path50"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3596.01,188.84 c -1.54,0 -2.58,1.031 -2.58,2.57 v 146.25 c 0,1.039 -0.5,1.559 -1.54,1.559 h -26.83 c -1.54,0 -2.57,1.031 -2.57,2.57 v 19.871 c 0,1.551 1.03,2.57 2.57,2.57 h 84.36 c 1.54,0 2.58,-1.019 2.58,-2.57 v -19.871 c 0,-1.539 -1.04,-2.57 -2.58,-2.57 h -26.83 c -1.04,0 -1.54,-0.52 -1.54,-1.559 V 191.41 c 0,-1.539 -1.04,-2.57 -2.57,-2.57 h -22.47" />
        <path
           id="path52"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3745.59,361.66 c 0,1.551 1.01,2.57 2.57,2.57 h 71.97 c 1.54,0 2.57,-1.019 2.57,-2.57 v -19.871 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -45.41 c -1.04,0 -1.54,-0.52 -1.54,-1.559 V 291.5 c 0,-1.039 0.5,-1.559 1.54,-1.559 h 39.22 c 1.54,0 2.58,-1.019 2.58,-2.57 V 267.5 c 0,-1.539 -1.04,-2.57 -2.58,-2.57 h -39.22 c -1.04,0 -1.54,-0.52 -1.54,-1.551 v -47.981 c 0,-1.027 0.5,-1.546 1.54,-1.546 h 45.41 c 1.54,0 2.57,-1.02 2.57,-2.571 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -71.97 c -1.56,0 -2.57,1.031 -2.57,2.57 v 170.25" />
        <path
           id="path54"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3917.05,276.539 c 0,48.742 1.04,55.973 3.36,63.191 5.4,16.758 18.3,26.821 39.73,26.821 25.01,0 40.74,-12.879 42.28,-42.039 0.28,-1.551 -0.25,-2.84 -1.79,-3.09 l -20.9,-3.613 c -1.54,-0.27 -2.83,0.523 -2.83,2.32 -0.78,14.961 -5.93,21.41 -16,21.41 -7.73,0 -11.87,-3.359 -13.94,-9.809 -1.29,-4.128 -1.79,-7.742 -1.79,-55.191 0,-47.469 0.5,-51.078 1.79,-55.199 2.07,-6.449 6.21,-9.801 13.94,-9.801 10.07,0 15.22,6.441 16,21.41 0,1.801 1.29,2.571 2.83,2.321 l 20.9,-3.61 c 1.54,-0.269 2.07,-1.551 1.79,-3.109 -1.54,-29.141 -17.27,-42.039 -42.28,-42.039 -21.43,0 -34.33,10.058 -39.73,26.84 -2.32,7.218 -3.36,14.429 -3.36,63.187" />
        <path
           id="path56"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4096.29,361.66 c 0,1.551 1.01,2.57 2.58,2.57 h 22.44 c 1.53,0 2.57,-1.019 2.57,-2.57 v -69.129 c 0,-1.031 0.5,-1.551 1.54,-1.551 h 29.66 c 1.03,0 1.56,0.52 1.56,1.551 v 69.129 c 0,1.551 1.04,2.57 2.58,2.57 h 22.44 c 1.54,0 2.57,-1.019 2.57,-2.57 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -22.44 c -1.54,0 -2.58,1.031 -2.58,2.57 v 73 c 0,1.039 -0.53,1.551 -1.56,1.551 h -29.66 c -1.04,0 -1.54,-0.512 -1.54,-1.551 v -73 c 0,-1.539 -1.04,-2.57 -2.57,-2.57 h -22.44 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path58"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4287.87,361.66 c 0,1.551 1.01,2.57 2.58,2.57 h 27.33 c 2.07,0 3.11,-0.769 3.61,-2.57 l 32.51,-121.238 h 1.29 V 361.66 c 0,1.551 1.04,2.57 2.58,2.57 h 19.08 c 1.54,0 2.57,-1.019 2.57,-2.57 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -25.55 c -2.04,0 -3.08,0.769 -3.61,2.57 l -34.05,121.238 h -1.54 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -19.08 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path60"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4539.55,221.34 c 1.57,4.89 1.82,6.961 1.82,55.199 0,48.242 -0.25,50.289 -1.82,55.191 -1.79,5.93 -7.47,9.809 -14.69,9.809 -7.47,0 -13.15,-3.879 -14.97,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 7.5,-9.801 14.97,-9.801 7.22,0 12.9,3.859 14.69,9.801 z m -56.21,-7.488 c -2.57,7.75 -3.36,13.929 -3.36,62.687 0,48.742 0.79,54.941 3.36,62.68 5.68,17.269 19.87,27.332 41.52,27.332 21.41,0 35.59,-10.063 41.27,-27.332 2.58,-7.739 3.36,-13.938 3.36,-62.68 0,-48.758 -0.78,-54.937 -3.36,-62.687 -5.68,-17.282 -19.86,-27.34 -41.27,-27.34 -21.65,0 -35.84,10.058 -41.52,27.34" />
        <path
           id="path62"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4670.05,361.66 c 0,1.551 1.01,2.57 2.58,2.57 h 22.44 c 1.53,0 2.57,-1.019 2.57,-2.57 V 215.398 c 0,-1.027 0.5,-1.546 1.54,-1.546 h 45.41 c 1.54,0 2.57,-1.02 2.57,-2.571 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -71.96 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path64"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4892.6,221.34 c 1.54,4.89 1.8,6.961 1.8,55.199 0,48.242 -0.26,50.289 -1.8,55.191 -1.81,5.93 -7.49,9.809 -14.71,9.809 -7.47,0 -13.15,-3.879 -14.97,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 7.5,-9.801 14.97,-9.801 7.22,0 12.9,3.859 14.71,9.801 z m -56.23,-7.488 c -2.58,7.75 -3.36,13.929 -3.36,62.687 0,48.742 0.78,54.941 3.36,62.68 5.67,17.269 19.86,27.332 41.52,27.332 21.4,0 35.59,-10.063 41.27,-27.332 2.57,-7.739 3.36,-13.938 3.36,-62.68 0,-48.758 -0.79,-54.937 -3.36,-62.687 -5.68,-17.282 -19.87,-27.34 -41.27,-27.34 -21.66,0 -35.85,10.058 -41.52,27.34" />
        <path
           id="path66"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 5019.97,276.539 c 0,48.742 0.78,54.941 3.36,62.68 5.68,17.269 19.86,27.332 41.52,27.332 25.27,0 40.77,-13.403 43.59,-41 0.26,-1.563 -0.78,-2.84 -2.07,-3.09 l -20.87,-3.609 c -1.57,-0.274 -2.6,0.5 -2.85,2.046 -1.29,13.672 -7.22,20.641 -17.55,20.641 -7.47,0 -13.4,-3.879 -15.22,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 8.26,-9.801 15.47,-9.801 7.5,0 13.94,3.859 15.76,9.801 1.28,4.39 1.79,6.961 1.79,39.461 0,1.039 -0.51,1.551 -1.54,1.551 h -13.68 c -1.54,0 -2.58,1.027 -2.58,2.578 v 19.082 c 0,1.547 1.04,2.59 2.58,2.59 h 39.22 c 1.54,0 2.58,-1.043 2.58,-2.59 v -7.742 c 0,-48.489 -0.78,-54.668 -3.36,-62.418 -5.68,-17.282 -19.86,-27.34 -41.27,-27.34 -21.66,0 -35.84,10.058 -41.52,27.34 -2.58,7.75 -3.36,13.929 -3.36,62.687" />
        <path
           id="path68"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 5227.81,188.84 c -1.57,0 -2.58,1.031 -2.58,2.57 v 69.391 l -33.55,100.859 c -0.5,1.551 0,2.57 2.07,2.57 h 22.7 c 1.82,0 2.57,-0.769 3.1,-2.57 l 19.59,-67.84 h 0.78 l 19.08,67.84 c 0.54,1.801 1.29,2.57 3.11,2.57 h 22.19 c 2.04,0 2.57,-1.019 2.04,-2.57 L 5252.82,260.801 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -22.44" />
        <path
           id="path70"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1413.48,632.223 h 53.35 c 44.63,0 55.52,13.054 55.52,72.929 v 58.786 c 0,58.789 -13.07,71.855 -55.52,71.855 h -53.35 z m 0,332.027 h 43.56 c 52.24,0 58.76,17.418 58.76,69.67 v 47.89 c 0,51.16 -6.52,68.59 -58.76,68.59 h -43.56 z m -180.7,321.13 h 266.71 c 156.74,0 197.03,-32.66 197.03,-190.5 0,-103.419 -7.61,-168.739 -117.57,-187.247 v -2.168 c 112.12,-8.719 130.64,-88.184 130.64,-183.985 0,-165.46 -38.11,-224.25 -180.72,-224.25 h -296.09 v 788.15" />
        <path
           id="path72"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1809.81,1052.41 h 154.57 v -55.508 h 2.18 c 21.77,51.158 47.9,64.228 109.96,64.228 57.69,0 93.62,-14.16 94.68,-82.735 V 828.168 h -134.97 v 82.738 c 0,17.414 -15.25,21.766 -32.65,21.766 -18.53,0 -32.66,-6.531 -32.66,-29.391 V 497.23 h -161.11 v 555.18" />
        <path
           id="path74"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2233.32,1052.41 h 161.11 V 497.23 h -161.11 z m 0,232.97 h 161.11 v -128.46 h -161.11 v 128.46" />
        <path
           id="path76"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2664.41,647.457 c 0,-20.676 13.07,-30.484 37.02,-30.484 23.95,0 37.02,9.808 37.02,30.484 v 254.731 c 0,20.691 -13.07,30.484 -37.02,30.484 -23.95,0 -37.02,-9.793 -37.02,-30.484 z M 2496.78,949 c 0,86 52.24,112.13 120.82,112.13 57.69,0 92.53,-20.69 118.66,-57.7 h 2.19 v 281.95 h 161.1 V 497.23 h -153.49 v 57.7 h -2.19 c -31.56,-57.7 -59.87,-66.399 -117.57,-66.399 -97.96,0 -129.52,38.098 -129.52,151.305 V 949" />
        <path
           id="path78"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3163.07,640.926 c 0,-23.953 10.89,-32.653 40.26,-32.653 29.41,0 40.3,8.7 40.3,32.653 v 265.629 c 0,23.937 -10.89,32.652 -40.3,32.652 -29.37,0 -40.26,-8.715 -40.26,-32.652 z m -161.11,274.332 c 0,95.802 42.45,145.872 117.55,145.872 63.15,0 99.07,-13.07 133.91,-59.88 h 2.18 v 51.16 h 149.14 V 448.238 c 0,-126.269 -70.77,-155.668 -217.72,-155.668 -127.36,0 -167.65,50.09 -167.65,123.02 v 29.39 h 141.52 V 433 c 0,-17.41 11.97,-25.039 41.35,-25.039 29.41,0 41.39,7.629 41.39,37.019 v 99.059 h -2.19 c -25.04,-33.738 -62.06,-51.16 -109.96,-51.16 -101.23,0 -129.52,62.051 -129.52,136.07 v 286.309" />
        <path
           id="path80"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3663.89,837.961 h 89.25 v 81.644 c 0,22.86 -7.61,32.668 -44.62,32.668 -37.02,0 -44.63,-9.808 -44.63,-32.668 z m -167.63,46.809 c 0,149.15 74.01,176.36 212.26,176.36 176.35,0 212.28,-66.411 212.28,-153.497 V 735.637 h -256.91 v -93.621 c 0,-29.395 6.54,-38.094 47.9,-38.094 31.56,0 45.72,6.519 45.72,39.183 v 26.122 h 163.29 v -31.563 c 0,-116.484 -48.99,-149.133 -212.28,-149.133 -138.25,0 -212.26,27.207 -212.26,176.344 V 884.77" />
        <path
           id="path82"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3986.19,1052.41 h 45.72 v 144.79 h 161.11 v -144.79 h 93.62 V 930.492 h -93.62 V 652.898 c 0,-28.3 6.52,-42.457 41.35,-42.457 14.16,0 28.32,2.18 41.39,3.274 V 492.879 c -30.47,-1.09 -68.58,-4.348 -102.33,-4.348 -97.98,0 -141.52,37 -141.52,121.91 v 320.051 h -45.72 v 121.918" />
        <path
           id="path84"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4512.02,837.961 h 89.26 v 81.644 c 0,22.86 -7.61,32.668 -44.63,32.668 -37.02,0 -44.63,-9.808 -44.63,-32.668 z m -167.63,46.809 c 0,149.15 74.01,176.36 212.26,176.36 176.36,0 212.28,-66.411 212.28,-153.497 V 735.637 h -256.91 v -93.621 c 0,-29.395 6.55,-38.094 47.9,-38.094 31.56,0 45.72,6.519 45.72,39.183 v 26.122 h 163.29 v -31.563 c 0,-116.484 -48.99,-149.133 -212.28,-149.133 -138.25,0 -212.26,27.207 -212.26,176.344 V 884.77" />
        <path
           id="path86"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4860.46,1285.38 h 161.11 V 848.844 h 2.18 l 72.91,203.566 h 158.96 L 5172.88,808.566 5281.72,497.23 h -171.99 l -85.98,274.333 h -2.18 V 497.23 h -161.11 v 788.15" />
      </g>
    </g>
  </svg></a>
  </br>
  <div style="float: left; height: 100%;">  
    <div style="float: left; margin-left: 50px; font-family: 'Fugaz One', cursive;overflow: hidden; font-size: 20px;">
    Brteve's API for EveApps
    </div>  
    <div style="padding-top:10px; float: left; margin-left: 50px; font-family: 'Fugaz One', cursive;overflow: hidden; font-size: 12px;">
    Version 0.0.1
    </div>
    <div style="padding-top:10px; clear: both; margin-left: 50px; font-size: 14px;">
    This folder contains the necessary files to use Eve device.</br>
    </div>
  </div>
</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_f_t___a_v_i_parser_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">FT_AVIParser.c</div></div>
</div><!--header-->
<div class="contents">
<a href="_f_t___a_v_i_parser_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> <span class="comment">/* AVI parser implementation */</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">/* Application inclusions */</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="_f_t___buffer_8h.html">FT_Buffer.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="_f_t___m_queue_8h.html">FT_MQueue.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="_f_t___a_v_i_parser_8h.html">FT_AVIParser.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="_f_t___platform_8h.html">FT_Platform.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="_f_t___audio_8h.html">FT_Audio.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">//#define SHOWPARSERPRINTS 1</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno"><a class="line" href="_f_t___app___play_video_8h.html#a0f22ee111cddeed86588d89d6e6656bf">   21</a></span><span class="keyword">volatile</span> <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#a0f22ee111cddeed86588d89d6e6656bf">parsingAudio</a>;</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno"><a class="line" href="_f_t___app___play_video_8h.html#af4f61b7a8ff7e5ff1e557c8dbeab0ef3">   22</a></span><span class="keyword">volatile</span> <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#af4f61b7a8ff7e5ff1e557c8dbeab0ef3">parsingVideo</a>;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment">//#define SHOWPARSERPRINTS 1</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#define printf printf</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment">//#define SHOWPARSERPRINTS 1</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#define printf(fmt, ...) do {\</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">    ft_printf(fmt, ##__VA_ARGS__);\</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">}while(0)</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#ac87f7243473ce469347a5bfb1bc5c89b">   35</a></span><span class="preprocessor">#define ft_printf printf</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span> </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">   41</a></span><span class="preprocessor">#define LOG_TAG &quot;AviPlayer  &quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="foldopen" id="foldopen00043" data-start="" data-end="">
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a317b4a03f79d8d4d9da8e4fe9c6c7f59">   43</a></span><span class="preprocessor">#define FT_Error(fmt, ...) do {\</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">    ft_printf(&quot;E/&quot; fmt &quot;\n\r&quot;, ##__VA_ARGS__);\</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">}while(0)</span></div>
</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="foldopen" id="foldopen00048" data-start="" data-end="">
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a89a034b88db34e095fc9c7250d922ed4">   48</a></span><span class="preprocessor">#define FT_Info(fmt, ...) do {\</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">    ft_printf(&quot;I/&quot; fmt &quot;\n\r&quot;, ##__VA_ARGS__);\</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">}while(0)</span></div>
</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="foldopen" id="foldopen00052" data-start="" data-end="">
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#aa8e1e52e042d3dca6c3394f2160cf6c2">   52</a></span><span class="preprocessor">#define FT_Debug(fmt, ...) do {\</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">    ft_printf(&quot;D/&quot; fmt &quot;\n\r&quot;, ##__VA_ARGS__);\</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">}while(0)</span></div>
</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">/* AVI parser design */</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment">/*</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment"> * heres the general layout of an AVI riff file (new format)</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="comment"> *</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="comment"> * RIFF (3F??????) AVI       &lt;- not more than 1 GB in size</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="comment"> *     LIST (size) hdrl</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment"> *         avih (0038)</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment"> *         LIST (size) strl</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment"> *             strh (0038)</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment"> *             strf (????)</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment"> *             indx (3ff8)   &lt;- size may vary, should be sector sized</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment"> *         LIST (size) strl</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment"> *             strh (0038)</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment"> *             strf (????)</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment"> *             indx (3ff8)   &lt;- size may vary, should be sector sized</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment"> *         LIST (size) odml</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment"> *             dmlh (????)</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment"> *         JUNK (size)       &lt;- fill to align to sector - 12</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment"> *     LIST (7f??????) movi  &lt;- aligned on sector - 12</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment"> *         00dc (size)       &lt;- sector aligned</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment"> *         01wb (size)       &lt;- sector aligned</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment"> *         ix00 (size)       &lt;- sector aligned</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment"> *     idx1 (00??????)       &lt;- sector aligned</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment"> * RIFF (7F??????) AVIX</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment"> *     JUNK (size)           &lt;- fill to align to sector -12</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment"> *     LIST (size) movi</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment"> *         00dc (size)       &lt;- sector aligned</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment"> * RIFF (7F??????) AVIX      &lt;- not more than 2GB in size</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment"> *     JUNK (size)           &lt;- fill to align to sector - 12</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment"> *     LIST (size) movi</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment"> *         00dc (size)       &lt;- sector aligned</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment"> *</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="comment"> *-===================================================================*/</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="preprocessor">#if defined(FT900_PLATFORM)</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="preprocessor">#define F_READ(f,b,s,ret, err) err = f_read((f), b, s, &amp;ret)</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="preprocessor">#define F_CLOSE(f) f_close(f)</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="preprocessor">#define F_SEEK(f,pos) f_lseek((f), pos)</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="preprocessor">#define F_TELL(f) f_tell((f))</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="preprocessor">#define F_EOF(f) f_eof(f)</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a2c7e33e7f4b948d213a4e501e624f47c">   96</a></span><span class="preprocessor">#define F_READ(f,b,s,ret, err) (err = ret = fread(b, 1, s, (f)))</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a4c5cd073e2b6a248b9cb35dda2879e45">   97</a></span><span class="preprocessor">#define F_CLOSE(f) fclose(f)</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a91306c75721a4cb005275c385d6cd8b2">   98</a></span><span class="preprocessor">#define F_SEEK(f,pos) fseek(f, pos, SEEK_SET)</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">   99</a></span><span class="preprocessor">#define F_TELL(f) ftell(f)</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a39292d307ecdbd3484bff0ad6394af3b">  100</a></span><span class="preprocessor">#define F_EOF(f) feof(f)</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a62d1a1be27e119f338946a51b8abc526">  103</a></span><span class="keyword">static</span> <a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#a62d1a1be27e119f338946a51b8abc526">g_aviparser</a>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="comment">/* API to check if sufficient data is available in buffer */</span></div>
<div class="foldopen" id="foldopen00106" data-start="{" data-end="}">
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a577924c36ab08d8768a5ec8bba50c022">  106</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a577924c36ab08d8768a5ec8bba50c022">FT_AVIPCheckSz</a>(<a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">OutLength</a>)</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>{</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pCurr;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">/* check if there is sufficient data in ring buffer, if not then read data into ring buffer */</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">OutLength</a>)</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    }</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>}</div>
</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="comment">/* Layer for parsing - as of now using ringbuffer as scratch buffer implementation, later to be modified to Nbuffer for parallel */</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="comment">//return status in case of EOF or fatal error etc</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="comment">/* it is assumed that ringbuffer is filled when ever the valid size is 0, so write pointer is always pointing to the starting */</span></div>
<div class="foldopen" id="foldopen00124" data-start="{" data-end="}">
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#ab8c8cdad4591d2fee17fb84c2f4eaa65">  124</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ab8c8cdad4591d2fee17fb84c2f4eaa65">FT_AVIPRead</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pOutBuffer</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">OutLength</a>, <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pReadLength</a>)</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>{</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a>;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FILE</a>* file = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;File;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <a class="code hl_struct" href="struct_f_i_l.html">FIL</a>* file = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;File;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;SNbuff;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="comment">/* check if there is sufficient data in ring buffer, if not then read data into ring buffer */</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a> &lt;= <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">OutLength</a>)</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    {</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="comment">/* first read the partial chunk followed by next partial chunk */</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SecondPartial</a>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = 0;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a>;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SecondPartial</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">OutLength</a> - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a>;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        <span class="comment">//printf(&quot;Reload of next buffer %d %d %d %d %d %d\n&quot;,FirstPartial,SecondPartial,pbuff-&gt;pCurr,pbuff-&gt;pEnd,pbuff-&gt;Length,pbuff-&gt;pStart);</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        <span class="comment">//printf(&quot;Cur pos: %d %d \n\r&quot;, F_TELL(file), pbuff-&gt;Length);</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a> &gt; 0)</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">memcpy</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pOutBuffer</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a>);</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pOutBuffer</a> += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a>;<span class="comment">//increment wrt first partial</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pReadLength</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <span class="comment">/* fill the buffer */</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a2c7e33e7f4b948d213a4e501e624f47c">F_READ</a>(file, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;Length, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a>, <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a>);</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial &lt; pbuff-&gt;</a>Length)</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a39292d307ecdbd3484bff0ad6394af3b">F_EOF</a>(file)) {</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;EOF indicator detected.\n&quot;</span>);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>                Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa517a1bc334db96f77300a1990d4443b5">FT_AVIPARSER_EOF</a>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>            }</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a> &lt;= 0) {</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>            Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aabc977f0021894b1e615d6d30c18da821">FT_AVIPARSER_FILEERR</a>;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        }</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        <span class="comment">/* Fill the second partial data */</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SecondPartial</a> &gt; 0)</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">memcpy</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pOutBuffer</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SecondPartial</a>);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SecondPartial</a>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pReadLength</a> += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SecondPartial</a>;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        <span class="comment">//printf(&quot;Reload done %d %d %d %d %x %d\n&quot;, FirstPartial, SecondPartial, pbuff-&gt;pCurr, pbuff-&gt;pEnd, *(ft_uint32_t*)pbuff-&gt;pStart,</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>            <span class="comment">//F_TELL(file));</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Reload done %d %d %d %d %x\n&quot;</span>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FirstPartial</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SecondPartial</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd, *(<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a>*)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart);</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    }</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr)</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">memcpy</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pOutBuffer</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">OutLength</a>);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">OutLength</a>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pReadLength</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">OutLength</a>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    }</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>}</div>
</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="foldopen" id="foldopen00191" data-start="{" data-end="}">
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#aeae1a641e884fbdfb47762e86666028f">  191</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#aeae1a641e884fbdfb47762e86666028f">FT_AVIPRead8</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>)</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>{</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;SNbuff;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr) &lt;= 1)</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    {</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadByte</a>;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ab8c8cdad4591d2fee17fb84c2f4eaa65">FT_AVIPRead</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadByte</a>,1, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>);</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        <span class="keywordflow">return</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadByte</a>);</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        <span class="keywordflow">return</span> (*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr++);</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    }</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>}</div>
</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="foldopen" id="foldopen00211" data-start="{" data-end="}">
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">  211</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#ac4720b4ec52ce0700c35c80b3d7f55ac">ft_uint16_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>)</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>{</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#ac4720b4ec52ce0700c35c80b3d7f55ac">ft_uint16_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read16</a> = 0;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ab8c8cdad4591d2fee17fb84c2f4eaa65">FT_AVIPRead</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>,(<a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a>*)&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read16</a>,2, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>);</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read16</a>);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>}</div>
</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span> </div>
<div class="foldopen" id="foldopen00220" data-start="{" data-end="}">
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">  220</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>)</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>{</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a> = 0;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa517a1bc334db96f77300a1990d4443b5">FT_AVIPARSER_EOF</a> == <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ab8c8cdad4591d2fee17fb84c2f4eaa65">FT_AVIPRead</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>, (<a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a>*)&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>)) {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa517a1bc334db96f77300a1990d4443b5">FT_AVIPARSER_EOF</a>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    }</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">//printf(&quot;READ32L %x \n&quot;,Read32);</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a>);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>}</div>
</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="comment">//Un-needed functions</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#ac4720b4ec52ce0700c35c80b3d7f55ac">ft_uint16_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8h.html#a0e3a396bd271ee171f78604e58106c52">FT_AVIPReadB16</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>)</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>{</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#ac4720b4ec52ce0700c35c80b3d7f55ac">ft_uint16_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read16</a>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;SNbuff;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr) &lt;= 2)</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>[2];</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ab8c8cdad4591d2fee17fb84c2f4eaa65">FT_AVIPRead</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>,2, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read16</a> = ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>[0]&lt;&lt;8) | (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>[1]));</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    }</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read16</a> = ((*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr++) &lt;&lt; 8);</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read16</a> |= *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr++;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    }</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read16</a>);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>}</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8h.html#a066f855e3fd1b027bc27ea91e281a6bf">FT_AVIPReadB32</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>)</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>{</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;SNbuff;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr) &lt;= 4)</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    {</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>[4];</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ab8c8cdad4591d2fee17fb84c2f4eaa65">FT_AVIPRead</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>,4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Bytesread</a>);</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a> = ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>[0]&lt;&lt;24) | (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>[1]&lt;&lt;16) | (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>[2]&lt;&lt;8) | <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ReadArr</a>[3]);</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a> = ((*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr++) &lt;&lt; 24);</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a> |= ((*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr++) &lt;&lt; 16);</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a> |= ((*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr++) &lt;&lt; 8);</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a> |= *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr++;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Read32</a>);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>}</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="preprocessor">#endif </span><span class="comment">//if 0</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span> </div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">/* Fetch of fresh data from file - also taking care of sector alignment */</span></div>
<div class="foldopen" id="foldopen00284" data-start="{" data-end="}">
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a92653a63b232ab0492de08946744895a">  284</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a92653a63b232ab0492de08946744895a">FT_AVIPFetch</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FileOffset</a>)</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>{</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Flushsector</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">freadsize</a>;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = 0;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FILE</a>* file = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;File;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <a class="code hl_struct" href="struct_f_i_l.html">FIL</a>* file = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;File;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;SNbuff;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <span class="comment">/* set current and end pointer respectively */</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Flushsector</a> = (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FileOffset</a> &amp; (~(<a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#af34fc0750eae10cee3bf73d115b2734b">FT_AVIP_SECTOR_SIZE</a> - 1)));<span class="comment">//assuming sector size if 2 power n</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="comment">//printf(&quot;AVIPFetch %d %d %d\n&quot;,ValidLen,FileOffset,Flushsector);</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a91306c75721a4cb005275c385d6cd8b2">F_SEEK</a>(file, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Flushsector</a>);</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> != 0) {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aae5a150c4846883aa2436dd77bad372db">FT_AVIPARSER_FSEEKERR</a>;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a2c7e33e7f4b948d213a4e501e624f47c">F_READ</a>(file, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;Length, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">freadsize</a>, <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a>);</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">freadsize</a> != <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;Length) {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aabf50c85e2a3b45b54b8a5290e40d86c0">FT_AVIPARSER_FREADERR</a>;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr += (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FileOffset</a> - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Flushsector</a>);<span class="comment">//change the offset to current position</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">freadsize</a>;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <span class="comment">//printf(&quot;AVIPFetch done %d %d %d %d \n&quot;,Flushsector,pbuff-&gt;pCurr,f_tell(&amp;pAviP-&gt;File),*pbuff-&gt;pCurr);</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>}</div>
</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span><span class="comment">/* API to flush data from local buffer and increment wrt file */</span></div>
<div class="foldopen" id="foldopen00320" data-start="{" data-end="}">
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">  320</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FlushLength</a>)</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>{</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Flushsector</a>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = 0;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FILE</a>* file = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;File;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <a class="code hl_struct" href="struct_f_i_l.html">FIL</a>* file = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;File;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pAviP</a>-&gt;SNbuff;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span> </div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="comment">//printf(&quot;AVIPFlush %d %d %d \n&quot;,ValidLen,pbuff-&gt;pCurr,pbuff-&gt;pEnd);</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="comment">/* Check if flush size is within the present buffer, if yes then increment the current pointer, if not then flush whole and seek to sector aligned location and read the whole buffer and point the current buffer to valid location */</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FlushLength</a> &lt;= <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a>)</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FlushLength</a>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">freadsize</a> = 0;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        <span class="comment">/* Check how much is to be flushed */</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FlushLength</a> -= <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ValidLen</a>;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Flushsector</a> = (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FlushLength</a> &amp; (~(<a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#af34fc0750eae10cee3bf73d115b2734b">FT_AVIP_SECTOR_SIZE</a> - 1)));<span class="comment">//assuming sector size if 2 power n</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>        <span class="comment">//printf(&quot;AVIPFlush %d %d %d %d\n&quot;,ValidLen,FlushLength,Flushsector,Flushsector + f_tell(&amp;pAviP-&gt;File));</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a91306c75721a4cb005275c385d6cd8b2">F_SEEK</a>(file, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Flushsector</a> + <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">F_TELL</a>(file));</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> != 0) {</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aae5a150c4846883aa2436dd77bad372db">FT_AVIPARSER_FSEEKERR</a>;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        }</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a2c7e33e7f4b948d213a4e501e624f47c">F_READ</a>(file, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;Length, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">freadsize</a>, <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a>);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">freadsize</a> != <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;Length) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aabf50c85e2a3b45b54b8a5290e40d86c0">FT_AVIPARSER_FREADERR</a>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        }</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pCurr += (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FlushLength</a> - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Flushsector</a>);<span class="comment">//change the offset to current position</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pEnd = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuff</a>-&gt;pStart + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">freadsize</a>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <span class="comment">//printf(&quot;AVIPFlush done %d %d %d %d %d\n&quot;,Flushsector,pbuff-&gt;pCurr,f_tell(&amp;pAviP-&gt;File),*pbuff-&gt;pCurr,freadsize);</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    }</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>}</div>
</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="comment">/* Initialize AVI parser */</span></div>
<div class="foldopen" id="foldopen00369" data-start="{" data-end="}">
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a0919c216e9bcae20727d1d028b3373a7">  369</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a0919c216e9bcae20727d1d028b3373a7">FT_AVIParser_Init</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>)</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>{</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <span class="comment">/* Initialize all the parameters of parser context */</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#a62d1a1be27e119f338946a51b8abc526">g_aviparser</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;<a class="code hl_variable" href="struct_f_t___a_v_i_parser.html#a58f9a989a58e69a16e9dd5e190475dc0">NumRiff</a> = 0;</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumMedia = 0;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrMediaType = 0;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;FileSz = 0;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Flags = 0;</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff;</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStream = <a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#a480135dfc68dc21485d6b03f724c49f0">FT_AVI_INVALID_STREAM</a>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStream = <a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#a480135dfc68dc21485d6b03f724c49f0">FT_AVI_INVALID_STREAM</a>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;curFrame=0;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="comment">/* Buffer initialization */</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.Length = 0;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">NULL</a>;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pEnd = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">NULL</a>;</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pNext = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">NULL</a>;</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pStart = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">NULL</a>;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrStat.IndxOff = 0;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrStat.MoviOff = 0;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span> </div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">memset</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff,<span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct_f_t___a_v_i_riff.html">FT_AVIRiff_t</a>)*<a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#afcb1c19bf6b8e39897becf2aecf6a4fb">FT_AVIP_MAXRIFFHDLS</a>,0);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="comment">/* File pointer - specific to a file system */</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="comment">//pCtxt-&gt;File = NULL;</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.CurrFrame = 0;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.TotFrames = 0;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.Flags = 0;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.IndexSubType=0;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.ValidSuperIndexEntries=0;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.SuperIndexOffset=0;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.CurrFrame = 0;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.TotFrames = 0;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.packet_size = 0;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.IndexSubType=0;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.ValidSuperIndexEntries=0;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.SuperIndexOffset=0;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>}</div>
</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span><span class="comment">/* Set Nbuffer parameters */</span></div>
<div class="foldopen" id="foldopen00416" data-start="{" data-end="}">
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#af115c53efbd180a24b02883c4962473c">  416</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#af115c53efbd180a24b02883c4962473c">FT_AVIParser_SetBuff</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuffer</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">BuffLen</a>)</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>{</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">BuffLen</a> &lt;= 0)</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    {</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aae27ceaf0ad1e44d7d5e52977aaedbf89">FT_AVIPARSER_INVALIDPARAMS</a>;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    }</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff;</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;<a class="code hl_variable" href="struct_f_t___n_buffer.html#ae4489f025f5e0b9c6cb3d0bd549c9d22">Length</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">BuffLen</a>;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pStart = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuffer</a>;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pCurr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuffer</a>;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pEnd = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pbuffer</a>;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span> </div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pNext = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">NULL</a>;<span class="comment">//hack - as of now N buffers are not used, only 1 buffer is used</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span> </div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>}</div>
</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span> </div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span><span class="comment">/* Set file pointer - open the  */</span></div>
<div class="foldopen" id="foldopen00438" data-start="{" data-end="}">
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a94f12dc02309ab7a549003f62e6a37e0">  438</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a94f12dc02309ab7a549003f62e6a37e0">FT_AVIParser_SetOpenFile</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#ad3738fdd3320a259d25ebc70a518facd">ft_char8_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFilename</a>)</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>{</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = 0;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fopen</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFilename</a>, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File != <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">NULL</a>){</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Opened: %s!\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFilename</a>);</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    }</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Unable to open: %s\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFilename</a>);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa51ac5c0347402fa140298a3e828f0d18">FT_AVIPARSER_FILENOTFOUND</a>;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    }</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span><span class="preprocessor">#elif defined(FT900_PLATFORM)</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Flags = 0;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    <span class="comment">//pCtxt-&gt;Flags |= FT_AVIPARSER_DROPAUDIO;</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="comment">//pCtxt-&gt;Flags |= FT_AVIPARSER_DROPVIDEO;</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = <a class="code hl_function" href="ff_8c.html#aefdef7126128d99d0b3bd82c28e54d80">f_open</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFilename</a>, <a class="code hl_define" href="ff_8h.html#a1f4f3530ff03abbd979b072536e72290">FA_READ</a>);</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="keywordflow">if</span>(0 != <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a>)</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Unable to open: %s  Return code: %d\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFilename</a>, <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a>);</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa51ac5c0347402fa140298a3e828f0d18">FT_AVIPARSER_FILENOTFOUND</a>;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    }</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span> </div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff = 0;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File, 0<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">L</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_END</a>);</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;FileSz = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ftell</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File);</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File, 0<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">L</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span><span class="preprocessor">#elif defined(FT900_PLATFORM)</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;FileSz = <a class="code hl_define" href="ff_8h.html#a26f33722c5bf1aa3cd6f0290a83eb2bc">f_size</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File);</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <span class="comment">/*printf(&quot;Open file %s successful s=%d\n\r&quot;, pFilename, pCtxt-&gt;FileSz);*/</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="comment">/* Update the file related parameters in the AVIparser context */</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>}</div>
</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span><span class="comment">/* Close file, reset buffer pointers etc */</span></div>
<div class="foldopen" id="foldopen00480" data-start="{" data-end="}">
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a5385c9659c2ac6c1d07401917d2ea05d">  480</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a5385c9659c2ac6c1d07401917d2ea05d">FT_AVIParser_Reset</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#ad3738fdd3320a259d25ebc70a518facd">ft_char8_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFilename</a>)</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>{</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = 0;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FILE</a>* file = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <a class="code hl_struct" href="struct_f_i_l.html">FIL</a>* file = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File;</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a0919c216e9bcae20727d1d028b3373a7">FT_AVIParser_Init</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a4c5cd073e2b6a248b9cb35dda2879e45">F_CLOSE</a>(file);</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> != 0) {</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa51ac5c0347402fa140298a3e828f0d18">FT_AVIPARSER_FILENOTFOUND</a>;</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    }</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>}</div>
</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span><span class="comment">//set audio only, video only, fast seek, drop video frames, fakesync</span></div>
<div class="foldopen" id="foldopen00498" data-start="{" data-end="}">
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a1081fbf4540df122e7b21aa4d82a9b87">  498</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a1081fbf4540df122e7b21aa4d82a9b87">FT_AVIParser_SetProp</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>){</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span> </div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span><span class="preprocessor">#if defined(FT900_PLATFORM)</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <span class="comment">//TODO: FIXME open this later</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <span class="comment">//Audio_DefaultSetup();</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>}</div>
</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span> </div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span> </div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span><span class="comment">//properties of overall stream, audio, video, text etc,</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a489c462fc201db0931c7633ed40f46c0">  508</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a489c462fc201db0931c7633ed40f46c0">FT_AVIParser_GetProp</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span><span class="comment">//parse the whole avi file - to be done at the starting of the playback</span></div>
<div class="foldopen" id="foldopen00511" data-start="{" data-end="}">
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#ab371f78779555db7213eadb7fa88063f">  511</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ab371f78779555db7213eadb7fa88063f">FT_AVIParser_ParseAvi</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>)</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>{</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span><span class="comment">/*</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span><span class="comment">#define SHOWPARSERPRINTS 1</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span><span class="comment">*/</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Next4cc</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AviS</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">List4cc</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bufferLastRead</a>=0xFFFFFFFF;</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>;</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">parsed</a>=0;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FILE</a>* file = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File;</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <a class="code hl_struct" href="struct_f_i_l.html">FIL</a>* file = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File;</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="comment">//printf(&quot;Start parsing avi!\n\r&quot;);</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="comment">/* For safer side make sure the current file pointer is at the begining of the file */</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a91306c75721a4cb005275c385d6cd8b2">F_SEEK</a>(file, 0);</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Seek ok\n\r&quot;</span>);</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Next4cc</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AviS</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;FileSz -= 16;<span class="comment">//read 3 words</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span> </div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;New file %x %x %x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Next4cc</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AviS</a>);</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="comment">/* First check for RIFF chunk, followed by parsing of all the media properties */</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="keywordflow">if</span>((<a class="code hl_define" href="container__avi_8h.html#acd648f7cab507c8d7ac2dde971284e0b">FT_AVI_4CC_RIFF</a> != <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Next4cc</a>) || (<a class="code hl_define" href="container__avi_8h.html#ab3ad6f098114bbee79d0310dc8ce936d">FT_AVI_4CC_AVI</a> != <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AviS</a>))</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    {</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;The input doesn&#39;t appear to be an AVI file: %x %x %x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Next4cc</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AviS</a>);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaafc4870ac85d856c4f0fa087e05eb5eb">FT_AVIPARSER_NOTAVIFILE</a>;</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    }</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff].RiffOff = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">F_TELL</a>(file) - (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pCurr);</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff].RiffSize = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a> - 4;<span class="comment">//already avi is consumed</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <span class="comment">/* update the riff handles in parser */</span></div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff++;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    <span class="comment">/* Parse all the headers, log the values, update the avi parser context */</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span> </div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    <span class="comment">//while(pCtxt-&gt;FileSz &gt; 0)//will not work in case of streaming</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    <span class="keywordflow">while</span>(1)<span class="comment">//will not work in case of streaming</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    {</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a39292d307ecdbd3484bff0ad6394af3b">F_EOF</a>(file)) {</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span> </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr){</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>                <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr == <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bufferLastRead</a>){</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>                    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;EOF reached \n&quot;</span>);</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>                    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                }</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                <span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bufferLastRead</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr;</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                }</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>            }</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>            <span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;EOF reached \n&quot;</span>);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            }</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            <span class="comment">//goto parser_error;  ///original</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>        }</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Next4cc</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        <span class="comment">/* pad odd sized lists and structures */</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a> &amp; 0x00000001){</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>+=1;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>        }</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <span class="comment">//printf(&quot;New chunk/list %x %x\n&quot;,Next4cc,ChunkSz);</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>        <span class="keywordflow">switch</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Next4cc</a>)</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        {</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#acd648f7cab507c8d7ac2dde971284e0b">FT_AVI_4CC_RIFF</a>:</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>            {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>                </div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                <span class="comment">/*</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span><span class="comment">                parsed = 1; //added, some transcoder added extra stuffs at the end</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span><span class="comment">                if(parsed == 1)</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span><span class="comment">                    return Status;</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span><span class="comment">                    */</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>                    </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>                <span class="comment">/* check for AVIX */</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>                <span class="comment">//printf(&quot;RIFF AVIX\n&quot;);</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AviS</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>                <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AviS</a> != <a class="code hl_define" href="container__avi_8h.html#aa5ee9b27429186f527e7404e236ac0b8">FT_AVI_4CC_AVIX</a>)</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>                {</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">parser_error</a>;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>                }</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff].RiffOff = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">F_TELL</a>(file) - (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pCurr);</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff].RiffSize = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a> - 4;<span class="comment">//avix is already read from buffer</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;RIFF AVIX %x %x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff].RiffOff,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff].RiffSize);</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span> </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>                <span class="comment">/* increment the riff index */</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff++;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Video now contains: %u riffs.\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff);</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            }</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#ac162d0784e419fcf0bce8eafb04a3250">FT_AVI_4CC_LIST</a>:</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>            {</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>                <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">list4cc</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;New list ele %x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">list4cc</a>);</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>                <span class="keywordflow">switch</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">list4cc</a>)</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>                {</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>                    <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a51e72a3ed22764d30fad3c1ff8370cf0">FT_AVI_4CC_hdrl</a>:</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>                    {</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>                        <span class="comment">/* next parse avih */</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;hdrl list\n&quot;</span>);</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>                    }</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>                    <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a89a50c07f9b86e41176458fc31b4a168">FT_AVI_4CC_strl</a>:</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>                    {</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;strl list\n&quot;</span>);</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrMediaType = 0;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>                        <span class="comment">/* check if audio or video */</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>                    }</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>                    <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a03d219bc1f860a88ad17713384d58e70">FT_AVI_4CC_odml</a>:</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>                    {</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;odml list SIZE:%u\n&quot;</span>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>);</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>                        <span class="comment">/* AVI 2.0 */</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>                        <span class="comment">/* skip all the info list */</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>                        <span class="comment">//FT_AVIPFlush(pCtxt,ChunkSz - 4);  //original</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>                    }</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>                    <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a1a36e0a3c5ee6b909cdbd4c2daf448ff">FT_AVI_4CC_INFO</a>:</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>                    {</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;info list\n&quot;</span>);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>                        <span class="comment">/* skip all the info list */</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a> - 4);</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>                    }</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>                    <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a1a45a575aef3309eaee87c3b0243ac20">FT_AVI_4CC_movi</a>:</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>                    {</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>                        <a class="code hl_struct" href="struct_f_t___a_v_i_riff.html">FT_AVIRiff_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pmovi</a>;</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span><span class="preprocessor">#if defined(FT900_PLATFORM)</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;movi list %x %x %x\n&quot;</span>,<a class="code hl_define" href="ff_8h.html#a5e1daca7ce13cdc277e42185f7f9124f">f_tell</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File),<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pEnd,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pCurr);</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pmovi</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff - 1];<span class="comment">//need to ensure that RIFF is parsed before movi</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pmovi</a>-&gt;MoviOff = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">F_TELL</a>(file) - (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pCurr);<span class="comment">//absolute value of movi in 4 gb file</span></div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>                        <span class="comment">//pmovi-&gt;MoviSize = ChunkSz - 4;  //original</span></div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pmovi</a>-&gt;MoviSize = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>; </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>                        <span class="comment">//pmovi-&gt;MoviOff = 0;//this is relative to movi</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>                        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pmovi</a>-&gt;MoviSize == 0){</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                            <span class="keywordflow">goto</span> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">parser_error</a>;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                        }</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;movi list %x %x %x \n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pmovi</a>-&gt;MoviOff,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pmovi</a>-&gt;MoviSize);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span> </div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span> </div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a> - 4);</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                    }</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>                    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>                    {</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Error default for list %x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">list4cc</a>);</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a> - 8);</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>                    }</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>                }</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>            }</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#ad13e597702618c1568a59e4df14df0a1">FT_AVI_4CC_avih</a>:</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>            {</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 12);</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.Flags = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 16);</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.Width = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.Height = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 16);</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;avih width height %d %d\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.Width,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.Height);</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>            }</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a7f9f163fe4614654cdf677da758b999d">FT_AVI_4CC_strh</a>:</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>            {</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fcctype</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fcchandler</a>;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;strh \n&quot;</span>);</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fcctype</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>                {</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fcchandler</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 12);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>                    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fcctype</a> == <a class="code hl_define" href="container__avi_8h.html#a5c3921fe45815203bddca5749cefa8af">FT_AVI_4CC_vids</a>)</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>                    {</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>                        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStream == <a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#a480135dfc68dc21485d6b03f724c49f0">FT_AVI_INVALID_STREAM</a>){<span class="comment">//default is to play the first video stream</span></div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>                            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStream = (<a class="code hl_define" href="_f_t___gpu___hal_8h.html#ac4720b4ec52ce0700c35c80b3d7f55ac">ft_uint16_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumMedia;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>                            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStreamFound = 1;</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>                        }</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>                        <span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>                            <span class="comment">//play the specified video stream</span></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>                            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStreamFound = 1;</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>                        }</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Video stream found. Stream: %u\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStream);</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumMedia++;</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.TimeScale = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.DataRate = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 4);</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.TotFrames = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Total Frames: %u\n&quot;</span>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.TotFrames);</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 8);</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.SampleSize = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 8);</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrMediaType = 1;</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;strh video %x %x %x %x \n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.TimeScale,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.DataRate,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.TotFrames,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.SampleSize);</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>                    }</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fcctype</a> == <a class="code hl_define" href="container__avi_8h.html#a25c6e010043c6d4d48c32234299e039c">FT_AVI_4CC_auds</a>)</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>                    {</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;strh audio\n&quot;</span>);</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>                        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStream == <a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#a480135dfc68dc21485d6b03f724c49f0">FT_AVI_INVALID_STREAM</a>){<span class="comment">//default is to play the first video stream</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>                            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStream = (<a class="code hl_define" href="_f_t___gpu___hal_8h.html#ac4720b4ec52ce0700c35c80b3d7f55ac">ft_uint16_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumMedia;</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>                            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStreamFound = 1;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>                        }</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>                        <span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>                            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStreamFound = 1;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>                        }</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Audio stream found. Stream: %u\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStream);</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumMedia++;</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.TimeScale = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.DataRate = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 4);</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.TotFrames = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 8);</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.SampleSize = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 8);</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrMediaType = 2;</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;strh audio %x %x %x %x \n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.TimeScale,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.DataRate,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.TotFrames,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.SampleSize);</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>                    }</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>                    {</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;strh txt or midi \n&quot;</span>);</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>                        <span class="comment">/* could be text or midi */</span></div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 36);</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>                    }</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>                }</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>            }</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a2a66a9aca3f0472b2195e4e639a1ed3a">FT_AVI_4CC_strf</a>:</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>            {</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;strf stream format detected. chunk size: %u\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>);</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>                <span class="keywordflow">if</span>(1 == <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrMediaType)</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>                {</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>                    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a> = 0;</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrMediaType = 0;</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>                    <span class="comment">/* parse bitmap header */</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;video detected\n&quot;</span>);</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 36);</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>                    <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a> - 4*10) != 0)</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>                    {</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;video hdr has extra data %d %d\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a>);</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a> - 4*10);</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>                    }</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;tempstore = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">F_TELL</a>(file) - (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr);</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>                }</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(2 == <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrMediaType)</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>                {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>                    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_variable" href="container__avi_8h.html#ac5cf375010bae17ad68059c9a2a21541">cbSize</a>=0,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);<span class="comment">//wave format</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrMediaType = 0;</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>                    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;strf audio waveformat %x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a>);</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span> </div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>                    <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a> &gt;= <a class="code hl_define" href="container__avi_8h.html#a6fbb6014ea8cf9adbd0ee6524e1dc457">FT_WAVE_FORMAT_PCM</a>) &amp;&amp; (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a> &lt;= <a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#aef4b86dbae542b65f6ff0ef3cb109cf3">FT_WAVE_FORMAT_ADPCM_IMA_WAV</a>))</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>                    {</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Audio detected: pcm/mulaw\n&quot;</span>);</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>                        <span class="comment">/* Parse as wave WAVEFORMATEX */</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.AudioFormat = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a>;</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.NumChannels = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.SamplingFreq = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 6);</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.BitsPerSample = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>                        <span class="comment">/*</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span><span class="comment">                         The following audio formats generated by FFmpeg requires the following section:</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span><span class="comment">                          - FT_WAVE_FORMAT_MULAW</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span><span class="comment">                         */</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>                        </div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>                        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.AudioFormat == <a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#a57901656449697aa99fb70318db982ed">FT_WAVE_FORMAT_MULAW</a> ||</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>                                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.AudioFormat == <a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#aef4b86dbae542b65f6ff0ef3cb109cf3">FT_WAVE_FORMAT_ADPCM_IMA_WAV</a>)</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>                        {</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>                            <a class="code hl_variable" href="container__avi_8h.html#ac5cf375010bae17ad68059c9a2a21541">cbSize</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>                            <span class="keywordflow">if</span>(<a class="code hl_variable" href="container__avi_8h.html#ac5cf375010bae17ad68059c9a2a21541">cbSize</a> &gt; 0)</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                            {</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>                                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_variable" href="container__avi_8h.html#ac5cf375010bae17ad68059c9a2a21541">cbSize</a>);</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>                            }</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>                        }</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>                        </div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>                    }</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>                    <span class="keywordflow">if</span>(<a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#afb276970110ebd1770b94246e9653a65">FT_WAVE_FORMAT_MPEGLAYER3</a> == <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a>)</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>                    {</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;strf audio mp3 %x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">strsize</a>);</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>                        <span class="comment">/* parse mp3 header */</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.NumChannels = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.SamplingFreq = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 6);</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>                        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.BitsPerSample = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span> </div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>                        <a class="code hl_variable" href="container__avi_8h.html#ac5cf375010bae17ad68059c9a2a21541">cbSize</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span> </div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>                        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 12);</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>                        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;audio mp3 %d %d %d\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.NumChannels,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.SamplingFreq,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.BitsPerSample);</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>                        <span class="comment">//cbSize = FT_AVIPReadL16(pCtxt);</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>                    }</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>                }</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span> </div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>            }</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a8a528836d950ef79fe79dac6f7926d8c">FT_AVI_4CC_idx1</a>:</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>            {</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>                <span class="comment">/* Update index entry points for seek purpose */</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>                <a class="code hl_struct" href="struct_f_t___a_v_i_riff.html">FT_AVIRiff_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>                <span class="comment">//printf(&quot;idx1 index detected.  Offset: %x\n&quot;, ftell(pCtxt-&gt;File) - (pnb-&gt;pEnd - pnb-&gt;pCurr));</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span> </div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff - 1];<span class="comment">//need to ensure that RIFF is parsed before movi</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;<a class="code hl_variable" href="struct_f_t___a_v_i_riff.html#a16782af2a72e627f87413d08fdaa64d6">indxOff</a> = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">F_TELL</a>(file) - (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pCurr);<span class="comment">//absolute value of movi in 4 gb file</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;indxSize = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>;</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span> </div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>);</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>            }</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a5f1b93b69cc07ec6a6d01fdc553f1d4c">FT_AVI_4CC_indx</a>:</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>            {</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                <a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> IndexSubType=0;</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>                <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> ValidSuperIndexEntries=0, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkID</a>;</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span> </div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);  <span class="comment">//wLongsPerEntry</span></div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 2);</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>                IndexSubType=<a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#aeae1a641e884fbdfb47762e86666028f">FT_AVIPRead8</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);   <span class="comment">//bIndexSubType</span></div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#aeae1a641e884fbdfb47762e86666028f">FT_AVIPRead8</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>); <span class="comment">//bIndexType</span></div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 1);</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>                ValidSuperIndexEntries = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);  <span class="comment">//nEntriesInUse</span></div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkID</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);    <span class="comment">//dwChunkID</span></div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);  <span class="comment">//dwReserved[0]</span></div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);  <span class="comment">//dwReserved[1]</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);  <span class="comment">//dwReserved[2]</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, 12);</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span> </div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>                <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkID</a> == (<a class="code hl_define" href="container__avi_8h.html#ada88d82970d43ace34223da0b026f547">FT_AVI_4CC_COMPRESSED_VIDEO</a> | ((((<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStream) &amp; 0xFF) &lt;&lt; 8) | ((((<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStream) &amp; 0xFF00) &gt;&gt; 8))){</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.IndexSubType = IndexSubType;</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.ValidSuperIndexEntries = ValidSuperIndexEntries;</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.SuperIndexOffset = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">F_TELL</a>(file) - (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pCurr);</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>                }</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkID</a> == (<a class="code hl_define" href="container__avi_8h.html#aeb0711ffeb7e99672eed0498b314bbad">FT_AVI_4CC_AUDIO</a> | ((((<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStream) &amp; 0xFF) &lt;&lt; 8) | ((((<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStream) &amp; 0xFF00) &gt;&gt; 8))){</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.IndexSubType = IndexSubType;</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.ValidSuperIndexEntries = ValidSuperIndexEntries;</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>                    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud.SuperIndexOffset = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">F_TELL</a>(file) - (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnb</a>-&gt;pCurr);<span class="comment">//absolute value of movi in 4 gb file</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>                }</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a> - 24);</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>            }</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a94ee1e48b78d194453500fa5a3ae2ea5">FT_AVI_4CC_dmlh</a>:</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>            {</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.TotFrames = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span> </div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Opendml spec. Total video frames: %u chunkSz:%x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid.TotFrames, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span> </div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>                <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>-4) &gt; 0){</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>                    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>-4);</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>                }</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>            }</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a83032fc8280ef1cdb65643a864525cc9">FT_AVI_4CC_JUNK</a>:</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a117c503f039db1031c5233c265980ba2">FT_AVI_4CC_vprp</a>:</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a53d070a0e6c2224073c2824ca83cb189">FT_AVI_4CC_strn</a>:</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a6a8a9f535b7a1909aac4ef77a42fe169">FT_AVI_4CC_strd</a>:</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#a855791aaca0e32e70ee312d938ee8400">FT_AVI_4CC_rec</a>:</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="container__avi_8h.html#ad112741aacbdea50492793953f7a4b7f">FT_AVI_4CC_isft</a>:</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>            {</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span> </div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;extra indx/junk/vprp \n&quot;</span>);</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span> </div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>);</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>            }</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>            {</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Error default for 4cc %x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Next4cc</a>);</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>                <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ChunkSz</a>);</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>            }</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>        }</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>    }</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span> </div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumMedia == 0)</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>    {</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>        Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac838420edea6613ac27c81bbce8f161f">FT_AVIPARSER_INVALIDFILE</a>;</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>    }</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span> </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span> </div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span> </div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span><a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">parser_error</a>:</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa91af78ccb94264a04731540f5baa9710">FT_AVIPARSER_UNKNOWNERR</a>;</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>}</div>
</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span> </div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span> </div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span><span class="comment">/* Set the RIFF to be played */</span></div>
<div class="foldopen" id="foldopen01045" data-start="{" data-end="}">
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a6d29695697db82f4a28f5edd1dcd22be"> 1045</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a6d29695697db82f4a28f5edd1dcd22be">FT_AVIParser_SetRiff</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RiffNo</a>)</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>{</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>    </div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RiffNo</a> &gt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff)</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    {</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>    }</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>    </div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>    <span class="comment">/* Set all the parameters for current RIFF - need to add support for multiple riffs during runtime */</span></div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RiffNo</a>;</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrStat.MoviOff = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff].MoviOff;</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrStat.IndxOff = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff].indxOff;  <span class="comment">//Should have no effect on seeking, AVI 1.0 has a fixed idx1 list and Opendml AVI has a stream specific super index</span></div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <span class="comment">//pCtxt-&gt;CurrStat.MoviOff = 0;//current riff chunks movi offset  //original</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>    <span class="comment">//pCtxt-&gt;CurrStat.IndxOff = 0;//current riff chunks idx1 offset  //original</span></div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    </div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    <span class="comment">/* Initialize the Nbuffer with first video data */</span></div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>    <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a92653a63b232ab0492de08946744895a">FT_AVIPFetch</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff].MoviOff);</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>    </div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span><span class="comment">//  printf(&quot;Aviriff set %d %x %x \n&quot;,pCtxt-&gt;CurrRiff,pCtxt-&gt;Riff[pCtxt-&gt;CurrRiff].MoviOff,pCtxt-&gt;Riff[pCtxt-&gt;CurrRiff].MoviSize);</span></div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    <span class="comment">/* make sure all the audio/video metadata and data are flushed properly */</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    </div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>}</div>
</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span> </div>
<div class="foldopen" id="foldopen01069" data-start="{" data-end="}">
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a4f39f32b0c08ca2ff409f96bbcf9c542"> 1069</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a4f39f32b0c08ca2ff409f96bbcf9c542">FT_AVIFillData</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a678ea64c0153afa9dcb36eb984bb27a9">Ft_Gpu_Hal_Context_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pHHal</a>, <a class="code hl_struct" href="struct_fifo__t.html">Fifo_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFifo</a>, <a class="code hl_struct" href="struct_f_t___ring_buffer.html">FT_RingBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pRBuff</a>, <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Data2Copy</a>)</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>{</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a> = 0;</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">currSz</a>;</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">wrsz</a>;</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a>;</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FILE</a>* file = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File;</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    <a class="code hl_struct" href="struct_f_i_l.html">FIL</a>* file = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File;</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span> </div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Data2Copy</a> &lt;= 0) {</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    }</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    <span class="keywordflow">while</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Data2Copy</a> &gt; 0) {</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a> = 0;</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">currSz</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pEnd - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr;</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">wrsz</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">currSz</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Data2Copy</a> ? <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">currSz</a> : <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Data2Copy</a>;</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFifo</a> != <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">NULL</a>) {</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>            <span class="comment">//APP_DBG(&quot;Video Fifo write: addr = %u&quot;, wrsz);</span></div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a> = <a class="code hl_function" href="_gpu___hal_8cpp.html#a04a1691ce0140e203f03a6c9917b6d1b">Fifo_Write</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pHHal</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFifo</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">wrsz</a>);</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>            <span class="comment">// APP_DBG(&quot;Audio Ring buffer write: addr = %u&quot;, numbyteswritten);</span></div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>            <a class="code hl_function" href="_f_t___buffer_8c.html#ac92ac19f032cd325851da047e1488f9f">FT_RingBuffer_Write</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pRBuff</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">wrsz</a>, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a>);</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a> != <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">wrsz</a>)</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>            {</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Error1 whole data is not copied into rb %d %d\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">wrsz</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a>);</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa2cb7e2f0d1cd8f5f277698162bb7ff69">FT_AVIPARSER_COPYERROR</a>;</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>            }</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>        }</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">Data2Copy</a> -= <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a>;</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>        <span class="comment">//Check if we need to read data</span></div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">currSz</a> == <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a>) {</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>            <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a2c7e33e7f4b948d213a4e501e624f47c">F_READ</a>(file, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pStart, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.Length, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a>, <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a>);</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a> &lt;= 0 &amp;&amp; <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> &lt; 0) {</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aabf50c85e2a3b45b54b8a5290e40d86c0">FT_AVIPARSER_FREADERR</a>;</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>            }</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pStart;</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pEnd = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a>;</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff.pCurr += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">numbyteswritten</a>;</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>        }</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    }</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFifo</a> != <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">NULL</a> &amp;&amp; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFifo</a>-&gt;fifo_wp &amp; 0x03)</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>    {</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paddlen</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFifo</a>-&gt;fifo_wp &amp; 0x03;</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padddata</a> = 0;</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span> </div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        <a class="code hl_function" href="_gpu___hal_8cpp.html#a04a1691ce0140e203f03a6c9917b6d1b">Fifo_Write</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pHHal</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pFifo</a>,(<a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a>*)&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padddata</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paddlen</a>);</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    }</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>}</div>
</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span> </div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span><span class="comment">/* API to download data into ft81x input buffer directly - fifo ring buffer mechanism */</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span><span class="comment">/* No avi parsing done, blindly tries to copy data from cache buffer/file into FT81x memory */</span></div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a91c569e57d093472902f79bbc044928b"> 1125</a></span><span class="preprocessor">#define FT_AVIFillVdata(pCtxt, pvdp, VDatatocopy) FT_AVIFillData(pCtxt, pvdp-&gt;phalctxt, pvdp-&gt;pfifo, NULL, VDatatocopy)</span></div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span><span class="comment">//ft_int32_t FT_AVIFillVdata(FT_AVIParser_t *pCtxt,FT_VidDataPath_t *pvdp,ft_uint32_t VDatatocopy)</span></div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span> </div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span><span class="comment">/* API to download data input audio input buffer - ring buffer mechanism */</span></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span><span class="comment">/* No avi parsing done, blindly tries to copy data from cache buffer/file into FT81x memory */</span></div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#aebae08fa5cbc0a23bb905a855348397c"> 1130</a></span><span class="preprocessor">#define FT_AVIFillAdata(pCtxt,padp,ADatatocopy) FT_AVIFillData(pCtxt, NULL, NULL, padp-&gt;pairb, ADatatocopy)</span></div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span><span class="comment">//ft_int32_t FT_AVIFillAdata(FT_AVIParser_t *pCtxt,FT_AudDataPath_t *padp,ft_uint32_t ADatatocopy)</span></div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span> </div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span><span class="comment">/* Check for partial buffer case and fill data */</span></div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FT_AVIPVidChkFillParBuff</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_struct" href="struct_f_t___vid_data_path.html">FT_VidDataPath_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>)</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>{</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>    <a class="code hl_struct" href="struct_f_t___ring_queue.html">FT_RingQueue_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>;</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a678ea64c0153afa9dcb36eb984bb27a9">Ft_Gpu_Hal_Context_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pHHal</a>;</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    <a class="code hl_struct" href="struct_fifo__t.html">Fifo_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>;</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>    <span class="keyword">static</span> <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">cursz</a>=0;</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span> </div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>-&gt;pvirq;</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pHHal</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>-&gt;phalctxt;</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>-&gt;pfifo;</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>    <span class="comment">/* Check for skip frame flag from player */</span></div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>    <span class="comment">/* Copy data from parser to video ring buffer in case of partial buffer */</span></div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>-&gt;ValidEle &gt; 0 )</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    {</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VInputRingb</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a> = 0;</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>        <a class="code hl_struct" href="struct_f_t___meta_v.html">FT_MetaV_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>;</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span> </div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>        <a class="code hl_function" href="_f_t___m_queue_8c.html#a29badf76a29319be99f931d1298e6f19">FT_RQueue_PeekELatest</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>);</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>        <span class="comment">//printf(&quot;Videochk partial %x %x %x %x %x %x %x %x %x\n&quot;,SMetaV.Length,SMetaV.PartialSz,SMetaV.Flags,prqv-&gt;WriteIdx,prqv-&gt;ValidEle,Ft_Gpu_Hal_Rd32(pHHal,REG_MEDIAFIFO_READ),Ft_Gpu_Hal_Rd32(pHHal,REG_MEDIAFIFO_WRITE),Ft_Gpu_Hal_Rd32(pHHal,REG_CMD_READ),Ft_Gpu_Hal_Rd32(pHHal,REG_CMD_WRITE));</span></div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>        <span class="comment">/* In case of partial frame, first download the partial frame */</span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968aa9901eb8d8605b2ec34bb9d0ac6dd60e">FT_AVIPMETAD_PARTIALBUFFER</a>)</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        {</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span> </div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>        <span class="comment">//printf(&quot;partial Video chunk. L:%u P:%u FS:%u\n&quot;,SMetaV.Length, SMetaV.PartialSz, Fifo_GetFreeSpace(pHHal,pVFifo));</span></div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>            Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>;</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span> </div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>            <span class="comment">/* Get the available free size in FT81x */</span></div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VInputRingb</a> = <a class="code hl_function" href="_gpu___hal_8cpp.html#ad36d6a169a20d587e8035b98c96cd718">Fifo_GetFreeSpace</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pHHal</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>);</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>            <span class="comment">//VInputRingb = FT_AVIPARSER_TESTSTUB_VIDBUFFMAXSZ;//hack for video fake sync</span></div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>            <span class="comment">//printf(&quot;Videochk partial %x %x %x %x\n&quot;,SMetaV.Length,SMetaV.PartialSz,SMetaV.Flags,VInputRingb);</span></div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>            <span class="comment">/* Partial buffer case where input buffer has no space, so the chunk size present in meta should be used */</span></div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Length - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.PartialSz;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VInputRingb</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a>)</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>            {</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>                <span class="comment">/* again partial scenarios, so copy partial and re update the metadata element */</span></div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VInputRingb</a>;</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.PartialSz += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VInputRingb</a>;</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>                <span class="comment">//Status = FT_AVIPARSER_PARTIALBUFFERUSECASE;  //added</span></div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span><span class="preprocessor">#if defined(SHOWVIDEOPARSINGPRINTS)</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;PV. P:%u S:%u C:%u.\n&quot;</span>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.PartialSz, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Length, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Frame);</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>            }</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>            {</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags &amp;= (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">~FT_AVIPMETAD_PARTIALBUFFER</a>);</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.PartialSz = 0;</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>                <span class="comment">//printf(&quot;FV(1): %u  \n&quot;,SMetaV.Length);</span></div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>                <span class="comment">//Status = FT_AVIPARSER_OK; //added</span></div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span><span class="preprocessor">#if defined(SHOWVIDEOPARSINGPRINTS)</span></div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;PV-LV.\n&quot;</span>);</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>            }</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a> &gt; 0)</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>            {</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>                Status = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a91c569e57d093472902f79bbc044928b">FT_AVIFillVdata</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a>);</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>                <span class="keywordflow">if</span>(Status != <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>)</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>                {</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>                    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>                }</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>            }</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span> </div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.DeviceWrtPtr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>-&gt;fifo_wp;</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>            <a class="code hl_function" href="_f_t___m_queue_8c.html#a9dbe30b69f2815a8d1cf4f98bbe194bf">FT_RQueue_WriteEInplace</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>);</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span> </div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span> </div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>            <span class="comment">/* return partial buffer usecase or error from fillvdata */</span></div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>            <span class="comment">//return Status;//added</span></div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>;  <span class="comment">//original</span></div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>        }</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>    }</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>}</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span> </div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span><span class="comment">/* Check for partial buffer case and fill data */</span></div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FT_AVIPAudChkFillParBuff</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_struct" href="struct_f_t___aud_data_path.html">FT_AudDataPath_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>)</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>{</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>    <a class="code hl_struct" href="struct_f_t___ring_queue.html">FT_RingQueue_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>;</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span> </div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span> </div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>-&gt;pairq;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span> </div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>    <span class="comment">/* Copy data from parser to audio input ring buffer in case of partial buffer */</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    <span class="comment">/* Check for skip frame flag settings */</span></div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>-&gt;ValidEle &gt; 0 )</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>    {</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AInputRingb</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a> = 0;</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>        <a class="code hl_struct" href="struct_f_t___meta_a.html">FT_MetaA_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>;</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span> </div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>        <a class="code hl_function" href="_f_t___m_queue_8c.html#a29badf76a29319be99f931d1298e6f19">FT_RQueue_PeekELatest</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>);</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>        <span class="comment">//printf(&quot;Audiochk partial %x %x %x %x %x\n&quot;,SMetaA.Length,SMetaA.PartialSz,SMetaA.Flags,prqa-&gt;WriteIdx,prqa-&gt;ValidEle);</span></div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>        <span class="comment">/* In case of partial frame, first download the partial frame */</span></div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968aa9901eb8d8605b2ec34bb9d0ac6dd60e">FT_AVIPMETAD_PARTIALBUFFER</a>)</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>        {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>        <span class="comment">//printf(&quot;partial audio chunk. L:%u P:%u FS:%u\n&quot;, SMetaA.Length, SMetaA.PartialSz, FT_RingBuffer_FreeSpace(padp-&gt;pairb));</span></div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>            Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>; <span class="comment">//original</span></div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span> </div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>            <span class="comment">/* Get the free size from pcm/mp3 codec */</span></div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>            <span class="comment">//printf(&quot;Audiochk partial %x %x %x %x %x\n&quot;,SMetaA.Length,SMetaA.PartialSz,SMetaA.Flags,prqa-&gt;WriteIdx,prqa-&gt;ValidEle);</span></div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AInputRingb</a> = <a class="code hl_function" href="_f_t___buffer_8c.html#a42d644713d39f0a2ca1cbd5a62f4c8ad">FT_RingBuffer_FreeSpace</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>-&gt;pairb);</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>            <span class="comment">//AInputRingb = FT_AVIPARSER_TESTSTUB_AUDBUFFMAXSZ;//hack for audio fake sync</span></div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span> </div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>            <span class="comment">/* Partial buffer case where input buffer has no space, so the chunk size present in meta should be used */</span></div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Length - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.PartialSz;</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AInputRingb</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a>)</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>            {</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>                <span class="comment">/* again partial scenarios, so copy partial and re update the metadata element */</span></div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AInputRingb</a>;</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.PartialSz += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a>;</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span> </div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>                <span class="comment">//Status = FT_AVIPARSER_PARTIALBUFFERUSECASE; //added</span></div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>            }</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>            {</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Flags &amp;= (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">~FT_AVIPMETAD_PARTIALBUFFER</a>);</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.PartialSz = 0;</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>                <span class="comment">//printf(&quot;FA(1):%u  \n&quot;,SMetaA.Length);</span></div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>                <span class="comment">//Status = FT_AVIPARSER_OK; //added</span></div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>            }</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a> &gt; 0)</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>            {</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>                Status = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#aebae08fa5cbc0a23bb905a855348397c">FT_AVIFillAdata</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a>);</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>                <span class="keywordflow">if</span>(Status != <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>)</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>                {</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>                    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Audparser filladata error %d\n&quot;</span>,Status);</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>                    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>                }</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span> </div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>            }</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span> </div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>            Status = <a class="code hl_function" href="_f_t___m_queue_8c.html#a9dbe30b69f2815a8d1cf4f98bbe194bf">FT_RQueue_WriteEInplace</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>);</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>            <span class="keywordflow">if</span>(<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a> != Status)</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>            {</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Audparser error %d\n&quot;</span>,Status);</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>            }</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span> </div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>            <span class="comment">/* return after partial chunk */</span></div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>; <span class="comment">//original</span></div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>            <span class="comment">//return Status; //added</span></div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>        }</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>    }</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    </div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>}</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span><span class="preprocessor">#endif </span><span class="comment">//if 0</span></div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span> </div>
<div class="foldopen" id="foldopen01286" data-start="{" data-end="}">
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#af9349de54fd7fa4ae986077152002731"> 1286</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#af9349de54fd7fa4ae986077152002731">FT_AVIPVidFillChunk</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_struct" href="struct_f_t___vid_data_path.html">FT_VidDataPath_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VBuffSz</a>, <span class="keywordtype">int</span> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a>)</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>{</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VidHdr</a>;</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    <a class="code hl_struct" href="struct_f_t___meta_v.html">FT_MetaV_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>;</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a>;</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>    <a class="code hl_struct" href="struct_f_t___ring_queue.html">FT_RingQueue_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>;</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>    <a class="code hl_struct" href="struct_f_t___avi_v.html">FT_AviV_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>;</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>    <a class="code hl_struct" href="struct_fifo__t.html">Fifo_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>;</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a678ea64c0153afa9dcb36eb984bb27a9">Ft_Gpu_Hal_Context_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pHHal</a>;</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span> </div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    <span class="comment">/* video specific local pointers */</span></div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>-&gt;pvirq;</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid;</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span> </div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>    <span class="comment">/* FT81x specific pointers */</span></div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pHHal</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>-&gt;phalctxt;</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>-&gt;pfifo;</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span> </div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    <span class="comment">//FT_MetaV_Init(&amp;SMetaV);</span></div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">memset</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>, 0, <span class="keyword">sizeof</span> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>);</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a>) {</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Frame = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;curFrame-1;</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>        <span class="comment">/* Check for skip frames in case of video */</span></div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>        <span class="keywordflow">if</span> ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Flags &amp; (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a059f471f2d8c32f6ac490182dbafc9ba">FT_AVIPARSER_DROP_VIDEO_ONE_FRAME</a> | <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a76c7dbcaa59748b75608c375883a3ecc">FT_AVIPARSER_DROPVIDEO</a> | <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a060b7c4b7666811afb0171dd0d181830">FT_AVIPARSER_DROPALLMEDIA</a> | <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a734828850545616f88b344d35b32866b">FT_AVIPARSER_FAKESYNC</a>)))</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>        {</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>            <span class="comment">//printf(&quot;Videochk flush %x %x \n&quot;,chksz,pCtxt-&gt;Flags);</span></div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>            <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VBuffSz</a>);<span class="comment">//fake sync</span></div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span> </div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.DeviceWrtPtr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>-&gt;fifo_wp;</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags |= (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a25923ab5ab1e6f7447c41b2b45ea1fba">FT_AVIPMETAD_KEYFRAME</a> | <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a96e993b5d99078e08ee9d11ba5c60554">FT_AVIPMETAD_NEWFRAME</a>);</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Pts = (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;CurrFrame*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;TimeScale*1000)/<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;DataRate;<span class="comment">//calculation of timestamp based on the fileformat - player needs to change this according to the playback timestamp</span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Curr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>-&gt;fifo_wp;</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Length = 0;</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span> </div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>            <a class="code hl_function" href="_f_t___m_queue_8c.html#ad25d7fae14d0421e790df0902cd2524b">FT_RQueue_WriteE</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>);<span class="comment">//incorrect in case of partial frames present in chunk</span></div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;CurrFrame++;<span class="comment">//incorrect in case of partial frames present in chunk</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a059f471f2d8c32f6ac490182dbafc9ba">FT_AVIPARSER_DROP_VIDEO_ONE_FRAME</a>)</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Flags &amp;= (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">~FT_AVIPARSER_DROP_VIDEO_ONE_FRAME</a>);</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;<span class="comment">//do not insert any metadata</span></div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>        }</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>    }</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a> &amp;&amp; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>-&gt;ValidEle &lt;= 0) {</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>    }</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a> = 0;</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a> || <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VBuffSz</a> &gt; 0)</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>    {</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>        <a class="code hl_struct" href="struct_f_t___n_buffer.html">FT_NBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnbuff</a>;</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>        <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VInputRingb</a>;</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span> </div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnbuff</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SNbuff;</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a>) {</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>            <a class="code hl_function" href="_f_t___m_queue_8c.html#a29badf76a29319be99f931d1298e6f19">FT_RQueue_PeekELatest</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>);</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>            <span class="keywordflow">if</span> (!(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968aa9901eb8d8605b2ec34bb9d0ac6dd60e">FT_AVIPMETAD_PARTIALBUFFER</a>))</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VBuffSz</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Length - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.PartialSz;</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>            <span class="comment">/*printf(&quot;sz: %d\n\r&quot;, VBuffSz);*/</span></div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>            Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>;</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>            <span class="comment">/* In case of video chunk - hack, check for MJPEG header in the chunk, if not found then flag as partial frame */</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VidHdr</a> = (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnbuff</a>-&gt;pCurr[0]) | ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pnbuff</a>-&gt;pCurr[1]) &lt;&lt; 8);<span class="comment">//need to check boundary of ring buffer</span></div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span> </div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>            <span class="comment">/* hack for type of frame - whole frame or partial by checking the jpg header */</span></div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>            <span class="keywordflow">if</span>(<a class="code hl_define" href="_f_t___a_v_i_parser_8h.html#a01877424584758f7e479a8d3050c3cc2">FT_AVIP_JPGFRAMEHDR</a> == <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VidHdr</a>)</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>            {</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags |= (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a25923ab5ab1e6f7447c41b2b45ea1fba">FT_AVIPMETAD_KEYFRAME</a> | <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a96e993b5d99078e08ee9d11ba5c60554">FT_AVIPMETAD_NEWFRAME</a>);</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Pts = (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;CurrFrame*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;TimeScale*1000)/<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;DataRate;<span class="comment">//calculation of timestamp based on the fileformat - player needs to change this according to the playback timestamp</span></div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Curr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>-&gt;fifo_wp;</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Length = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VBuffSz</a>;</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                <span class="comment">//printf(&quot;Video movi chk %x %x %x %d\n&quot;,movichk,chksz,VidHdr,SMetaV.Pts);</span></div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>                <span class="comment">/* reset the partial buffer flag of the previous chunk if any */</span></div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>            }</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>            {</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>                <span class="comment">/* Partial frame, fetch the earlier queue element and set the partial frame flag */</span></div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>                <span class="comment">//printf(&quot;Video movi chk partial %x %x %x\n&quot;,movichk,chksz,VidHdr);</span></div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>                <a class="code hl_function" href="_f_t___m_queue_8c.html#a29badf76a29319be99f931d1298e6f19">FT_RQueue_PeekELatest</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>);</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Length += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VBuffSz</a>;</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags |= (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a860605cd7b41da8ba41f9f11d70001f3">FT_AVIPMETAD_PARTIALFRAME</a>);</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags &amp;= ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">~FT_AVIPMETAD_NEWFRAME</a>));<span class="comment">//chunks other then first chunk of the frame</span></div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>            }</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>        }</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span> </div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>        <span class="comment">/* get the available data in FT81x */</span></div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VInputRingb</a> = <a class="code hl_function" href="_gpu___hal_8cpp.html#ad36d6a169a20d587e8035b98c96cd718">Fifo_GetFreeSpace</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pHHal</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>);</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>        <span class="comment">//VInputRingb = FT_AVIPARSER_TESTSTUB_VIDBUFFMAXSZ;//hack for fake sync</span></div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span> </div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>        <span class="comment">/* Download data into FT81x */</span></div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VInputRingb</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VBuffSz</a>)</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>        {</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>            <span class="comment">/* again partial scenarios, so copy partial and re update the metadata element */</span></div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span> </div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VInputRingb</a>;</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.PartialSz += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a>;</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags |= <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968aa9901eb8d8605b2ec34bb9d0ac6dd60e">FT_AVIPMETAD_PARTIALBUFFER</a>;</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>            <span class="comment">//printf(&quot;Video fstpar chk %x %x %x %x\n&quot;,movichk,chksz,VInputRingb,SMetaV.Flags);</span></div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>        }</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>        {</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VBuffSz</a>;</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.PartialSz = 0;</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags &amp;= (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">~FT_AVIPMETAD_PARTIALBUFFER</a>);</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>        }</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    }</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    {</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Length = 0;</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.PartialSz = 0;</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Pts = ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;CurrFrame*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;TimeScale*1000)/<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;DataRate);<span class="comment">//calculation of timestamp based on the fileformat - player needs to change this according to the playback timestamp</span></div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Curr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>-&gt;fifo_wp;</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a96e993b5d99078e08ee9d11ba5c60554">FT_AVIPMETAD_NEWFRAME</a>;</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    }</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>    <span class="comment">//printf(&quot;bfrvfill %x %x\n&quot;,Ft_Gpu_Hal_Rd32(pvdp-&gt;phalctxt,REG_MEDIAFIFO_READ),Ft_Gpu_Hal_Rd32(pvdp-&gt;phalctxt,REG_MEDIAFIFO_WRITE));</span></div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a> &gt; 0) {</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>        Status = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a91c569e57d093472902f79bbc044928b">FT_AVIFillVdata</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a>);</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>        <span class="keywordflow">if</span> (Status != <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>)</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>            <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>    }</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    <span class="comment">//FT_AVIPFlush(pCtxt,VBuffSz);//fake sync</span></div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span> </div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.DeviceWrtPtr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pVFifo</a>-&gt;fifo_wp;</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a> &amp;&amp; (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>.Flags &amp; (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a96e993b5d99078e08ee9d11ba5c60554">FT_AVIPMETAD_NEWFRAME</a>)))</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>    {</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>        <a class="code hl_function" href="_f_t___m_queue_8c.html#ad25d7fae14d0421e790df0902cd2524b">FT_RQueue_WriteE</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>);</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>        <span class="comment">//printf(&quot;Video meta %x %x %x %x %x %x %x %d %d %d\n&quot;,SMetaV.Length,SMetaV.PartialSz,SMetaV.Pts,SMetaV.Curr,SMetaV.Flags,Ft_Gpu_Hal_Rd32(pHHal,REG_MEDIAFIFO_READ),Ft_Gpu_Hal_Rd32(pHHal,REG_MEDIAFIFO_WRITE),prqv-&gt;ReadIdx,prqv-&gt;WriteIdx,prqv-&gt;ValidEle);</span></div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>-&gt;CurrFrame++;</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>    }</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>    {</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>        <a class="code hl_function" href="_f_t___m_queue_8c.html#a9dbe30b69f2815a8d1cf4f98bbe194bf">FT_RQueue_WriteEInplace</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaV</a>);</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>    }</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span> </div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a>) {</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>;</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>    }</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>}</div>
</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span> </div>
<div class="foldopen" id="foldopen01425" data-start="{" data-end="}">
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a54f3ab6286d43d23ec454c231c6aad3d"> 1425</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a54f3ab6286d43d23ec454c231c6aad3d">FT_AVIPAudFillChunk</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_struct" href="struct_f_t___aud_data_path.html">FT_AudDataPath_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>,<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ABuffSz</a>, <span class="keywordtype">int</span> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a>)</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>{</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AInputRingb</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a> = 0;</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    <a class="code hl_struct" href="struct_f_t___ring_queue.html">FT_RingQueue_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>;</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>    <a class="code hl_struct" href="struct_f_t___ring_buffer.html">FT_RingBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prba</a>;</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>    <a class="code hl_struct" href="struct_f_t___avi_a.html">FT_AviA_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>;</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>    <a class="code hl_struct" href="struct_f_t___meta_a.html">FT_MetaA_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>;</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span> </div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>    <span class="comment">/* as of now only video buffer size is loaded */</span></div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>-&gt;pairq;</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prba</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>-&gt;pairb;</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud;</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span> </div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    <span class="comment">//FT_MetaA_Init(&amp;SMetaA);</span></div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">memset</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>, 0, <span class="keyword">sizeof</span> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>);</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a>) {</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Frame = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;curFrame &gt; 0 ? <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;curFrame-1 : 0;</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>        <span class="comment">/* Check for skip frames in case of video */</span></div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>        <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Flags &amp; (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37af88acd3fa6c304c1376b54d5044f66ee">FT_AVIPARSER_DROPAUDIO</a> | <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a060b7c4b7666811afb0171dd0d181830">FT_AVIPARSER_DROPALLMEDIA</a> | <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a734828850545616f88b344d35b32866b">FT_AVIPARSER_FAKESYNC</a>)))</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>        {</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>            <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ABuffSz</a>);<span class="comment">//fake sync</span></div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>            <a class="code hl_function" href="_f_t___m_queue_8c.html#ad25d7fae14d0421e790df0902cd2524b">FT_RQueue_WriteE</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>);<span class="comment">//incorrect in case of partial frames present in chunk</span></div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;CurrFrame++;<span class="comment">//incorrect in case of partial frames present in chunk</span></div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>            <span class="comment">//printf(&quot;Audiochk flush %x %x \n&quot;,ABuffSz,pCtxt-&gt;Flags);</span></div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;<span class="comment">//do not insert any metadata</span></div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>        }</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>    }</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span> </div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a> &amp;&amp; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>-&gt;ValidEle &lt;= 0) {</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    }</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Audio time stamp: %u %u %u %u %u\n&quot;</span>,(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;CurrFrame*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;TimeScale*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;packet_size*1000)/<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;DataRate, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;CurrFrame, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;TimeScale, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;packet_size, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;DataRate);</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span><span class="comment">//  printf(&quot;%u %u %u %u\n&quot;,pavia-&gt;CurrFrame, pavia-&gt;TimeScale, pavia-&gt;packet_size, pavia-&gt;DataRate);</span></div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a> || <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ABuffSz</a> &gt; 0)</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>    {</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span> </div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a>) {</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>            <a class="code hl_function" href="_f_t___m_queue_8c.html#a29badf76a29319be99f931d1298e6f19">FT_RQueue_PeekELatest</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>);</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>            <span class="keywordflow">if</span> (!(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968aa9901eb8d8605b2ec34bb9d0ac6dd60e">FT_AVIPMETAD_PARTIALBUFFER</a>))</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ABuffSz</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Length - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.PartialSz;</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>            Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>; <span class="comment">//original</span></div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>            <span class="comment">/* hack for pcm and mp3 assuming that chunk is independently decodable */</span></div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Flags |= (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a25923ab5ab1e6f7447c41b2b45ea1fba">FT_AVIPMETAD_KEYFRAME</a> | <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a96e993b5d99078e08ee9d11ba5c60554">FT_AVIPMETAD_NEWFRAME</a>);</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Pts = ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;CurrFrame*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;TimeScale*1000)/<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;DataRate);<span class="comment">//calculation of timestamp based on the fileformat - player needs to change this according to the playback timestamp</span></div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Curr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prba</a>-&gt;Write;</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Length = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ABuffSz</a>;</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>        }</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>        <span class="comment">//printf(&quot;Audio movi chk %x %x %d\n&quot;,movichk,chksz,SMetaA.Pts);</span></div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span> </div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>        <span class="comment">/* get the available data in FT81x */</span></div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AInputRingb</a> = <a class="code hl_function" href="_f_t___buffer_8c.html#a42d644713d39f0a2ca1cbd5a62f4c8ad">FT_RingBuffer_FreeSpace</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prba</a>);  <span class="comment">//original</span></div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>        <span class="comment">//AInputRingb = FT_AVIPARSER_TESTSTUB_AUDBUFFMAXSZ;//hack for audio fake sync</span></div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span> </div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>        <span class="comment">/* Download data into FT81x */</span></div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AInputRingb</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ABuffSz</a>)</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>        {</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>            <span class="comment">/* again partial scenarios, so copy partial and re update the metadata element */</span></div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">AInputRingb</a>;</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.PartialSz += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a>;</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Flags |= <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968aa9901eb8d8605b2ec34bb9d0ac6dd60e">FT_AVIPMETAD_PARTIALBUFFER</a>;</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>        }</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>        {</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ABuffSz</a>;</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.PartialSz = 0;</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Flags &amp;= (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">~FT_AVIPMETAD_PARTIALBUFFER</a>);</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>        }</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    }</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    {</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Length = 0;</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.PartialSz = 0;</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        <span class="comment">//in case of pcm the packet_size is chunk size</span></div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Pts = ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;CurrFrame*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;TimeScale*1000)/<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;DataRate);<span class="comment">//calculation of timestamp based on the fileformat - player needs to change this according to the playback timestamp</span></div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Curr = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prba</a>-&gt;Write;</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Flags = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a96e993b5d99078e08ee9d11ba5c60554">FT_AVIPMETAD_NEWFRAME</a>;</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>    }</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a> &gt; 0) {</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>        <span class="comment">//APP_DBG(&quot;FT_AVIFillAdata copying audio buffer size %d&quot;, ADatatocopy);</span></div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>        Status = <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#aebae08fa5cbc0a23bb905a855348397c">FT_AVIFillAdata</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ADatatocopy</a>);</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>        <span class="keywordflow">if</span> (Status != <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>)</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>            <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    }</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    <span class="comment">//FT_AVIPFlush(pCtxt,ABuffSz);//fake sync</span></div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a> &amp;&amp; (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Flags &amp; (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a96e993b5d99078e08ee9d11ba5c60554">FT_AVIPMETAD_NEWFRAME</a>)))</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>    {</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>        <span class="comment">//printf(&quot;Audio chk write %x %x %x %x\n&quot;,SMetaA.Length,SMetaA.PartialSz,ADatatocopy,SMetaA.Flags);</span></div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        <a class="code hl_function" href="_f_t___m_queue_8c.html#ad25d7fae14d0421e790df0902cd2524b">FT_RQueue_WriteE</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>);</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>        <span class="comment">//pavia-&gt;CurrFrame++;</span></div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>-&gt;CurrFrame += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>.Length;</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>    }</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>    {</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>        <span class="comment">/* In case of partial buffer and partial frame - should not hit partial frame in audio case */</span></div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>        <a class="code hl_function" href="_f_t___m_queue_8c.html#a9dbe30b69f2815a8d1cf4f98bbe194bf">FT_RQueue_WriteEInplace</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>,&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SMetaA</a>);</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>    }</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">isPartial</a>) {</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>;</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>    }</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>    <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>}</div>
</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span> </div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span><span class="comment">//fill one chunk/frame for all the media - need to ensure 1 frame worth of data is available for each of the media</span></div>
<div class="foldopen" id="foldopen01531" data-start="{" data-end="}">
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a6532237c25423849f7875f442d10a7b0"> 1531</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a6532237c25423849f7875f442d10a7b0">FT_AVIParser_FillChunk</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_struct" href="struct_f_t___vid_data_path.html">FT_VidDataPath_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>,<a class="code hl_struct" href="struct_f_t___aud_data_path.html">FT_AudDataPath_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>)</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>{</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>    <a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a> Status = <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>    <span class="keyword">volatile</span> <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">movichk</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a> = 0,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">VDatatocopy</a>;</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>    <a class="code hl_struct" href="struct_f_t___ring_queue.html">FT_RingQueue_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>,*<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>;</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>    <a class="code hl_struct" href="struct_f_t___ring_buffer.html">FT_RingBuffer_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prba</a>;</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    <a class="code hl_struct" href="struct_f_t___avi_v.html">FT_AviV_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a>;</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>    <a class="code hl_struct" href="struct_f_t___avi_a.html">FT_AviA_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a>;</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>    </div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;FillChunk %d %d\n\r&quot;</span>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrStat.MoviOff, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff].MoviSize);</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>    <span class="comment">/* Each time check for the end of movi chunk */</span></div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>    <span class="comment">/* Check if parser is in play state or avi header state */</span></div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>    <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrStat.MoviOff &gt;= (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff].MoviSize + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Riff[<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff].MoviOff)))</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>    {</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span><span class="comment">//      printf(&quot;riffmoving %x %x %x %x\n&quot;,pCtxt-&gt;CurrRiff,pCtxt-&gt;CurrStat.MoviOff,pCtxt-&gt;Riff[pCtxt-&gt;CurrRiff].MoviSize, pCtxt-&gt;Riff[pCtxt-&gt;CurrRiff].MoviOff);</span></div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>        <span class="comment">/* Roll over of riff chunk */</span></div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff++;</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff &gt;= <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff)</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>        {</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span><span class="comment">//          printf(&quot;Riffeof %x %x %x %x\n&quot;,pCtxt-&gt;CurrRiff,pCtxt-&gt;CurrStat.MoviOff,pCtxt-&gt;Riff[pCtxt-&gt;CurrRiff].MoviSize, pCtxt-&gt;Riff[pCtxt-&gt;CurrRiff].MoviOff);</span></div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;NumRiff;<span class="comment">//protection</span></div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa517a1bc334db96f77300a1990d4443b5">FT_AVIPARSER_EOF</a>;</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>        }</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>        <span class="comment">/* Fetch new data into local buffer  */</span></div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>        <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a6d29695697db82f4a28f5edd1dcd22be">FT_AVIParser_SetRiff</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrRiff);</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    }</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    </div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>    <span class="comment">/* as of now only video buffer size is loaded */</span>    </div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>-&gt;pairq;</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prba</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>-&gt;pairb;</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pavia</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SAud;</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>    </div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>    <span class="comment">/* video specific local pointers */</span></div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>-&gt;pvirq;</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">paviv</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;SVid;</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>    </div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>    <span class="comment">/* Check for all the control flags of parser */</span></div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>    <span class="comment">/* Check for partial flag present in the current queue element */</span></div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>    <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>-&gt;ValidEle &gt;= <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqv</a>-&gt;TotEle) || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>-&gt;ValidEle &gt;= <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prqa</a>-&gt;TotEle))</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>    {</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>        <span class="comment">//printf(&quot;parchk exceed valideles %d %d %d %d \n&quot;,prqv-&gt;ValidEle,prqv-&gt;TotEle,prqa-&gt;ValidEle,prqa-&gt;TotEle);</span></div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>        <span class="comment">/* Exceeded the limit */</span>        </div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa63823e522aa4303dce1cd200266ce14f">FT_AVIPARSER_BQEFULL</a>;</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>    }</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span> </div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>    <span class="comment">//parse any partial video chunks</span></div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>    <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#af4f61b7a8ff7e5ff1e557c8dbeab0ef3">parsingVideo</a> = 1;</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>    <span class="comment">//Merge PartialFill to one function</span></div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>    Status = (<a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a>)<a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#af9349de54fd7fa4ae986077152002731">FT_AVIPVidFillChunk</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>,0,1);</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#af4f61b7a8ff7e5ff1e557c8dbeab0ef3">parsingVideo</a> = 0;</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span> </div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>    <span class="keywordflow">if</span>(Status == <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>)   </div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>    {</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>    }</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span> </div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    <span class="comment">//parse any partial audio chunks</span></div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#a0f22ee111cddeed86588d89d6e6656bf">parsingAudio</a> = 1;</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    Status = (<a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a>)<a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a54f3ab6286d43d23ec454c231c6aad3d">FT_AVIPAudFillChunk</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>, 0, 1);</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span> </div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>    <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#a0f22ee111cddeed86588d89d6e6656bf">parsingAudio</a> = 0;</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span><span class="preprocessor">    #if 1</span></div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>    <span class="keywordflow">if</span>(Status == <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a>)</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>    {</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>    }</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span><span class="preprocessor">    #else  </span><span class="comment">//added</span></div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>    <span class="comment">//if(Status == FT_AVIPARSER_PARTIALBUFFERUSECASE)  </span></div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    <span class="keywordflow">if</span>(Status != <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>)</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>    {</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>        <span class="keywordflow">return</span> Status;</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>    }</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span> </div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span> </div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>    </div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>    <span class="comment">/* Parse a new chunk */</span></div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>    <span class="comment">/*printf(&quot;Parchk %d \n&quot;, f_tell(&amp;pCtxt-&gt;File));*/</span></div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">movichk</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>    <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa517a1bc334db96f77300a1990d4443b5">FT_AVIPARSER_EOF</a> == <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">movichk</a>) {</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa517a1bc334db96f77300a1990d4443b5">FT_AVIPARSER_EOF</a>;</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>    }</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a> = <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>);</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>    </div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    <span class="comment">/* hack for any video convertor */</span></div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a> &amp; 0x00000001)</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>    {</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>        <span class="comment">//printf(&quot;Chunk is not multiple of 2. movichk:%x, chksz:%x &quot;,movichk,chksz);</span></div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a> + 1;</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>    }</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span> </div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>    <span class="comment">/* Stats maintained by parser - make sure to take care movioff during seek implementation */</span></div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrStat.MoviOff += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a> + 8;<span class="comment">//two dwords from the above</span></div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Parchk %d %x %x \n&quot;</span>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;CurrStat.MoviOff, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">movichk</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a>);</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span> </div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>    <span class="comment">/* Check for audio or video or text/midi chunks */</span></div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span> </div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">movichk</a> == (<a class="code hl_define" href="container__avi_8h.html#ada88d82970d43ace34223da0b026f547">FT_AVI_4CC_COMPRESSED_VIDEO</a> | ((((<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStream) &amp; 0xFF) &lt;&lt; 8) | ((((<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;VideoStream) &amp; 0xFF00) &gt;&gt; 8))){</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>        <span class="comment">//timer_profilecountstart(&amp;timercount,&amp;timervalue);</span></div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>        <span class="comment">//printf(&quot;Video chunk.\n&quot;);</span></div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;curFrame++;</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>        <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#af4f61b7a8ff7e5ff1e557c8dbeab0ef3">parsingVideo</a> = 1;</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>        Status = (<a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a>)<a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#af9349de54fd7fa4ae986077152002731">FT_AVIPVidFillChunk</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pvdp</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a>,0);</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>        <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#af4f61b7a8ff7e5ff1e557c8dbeab0ef3">parsingVideo</a> = 0;</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>    }</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span> </div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>    <span class="comment">/*else if(movichk == (FT_AVI_4CC_UNCOMPRESSED_VIDEO | ((((ft_uint32_t)pCtxt-&gt;VideoStream) &amp; 0xFF) &lt;&lt; 8) | ((((ft_uint32_t)pCtxt-&gt;VideoStream) &amp; 0xFF00) &gt;&gt; 8))){</span></div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span><span class="comment">        Status = FT_AVIPFlush(pCtxt,chksz);</span></div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span><span class="comment">    }*/</span></div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span><span class="preprocessor">#if 1</span></div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>    <span class="comment">//First integration to Cleo, no audio now!</span></div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37af88acd3fa6c304c1376b54d5044f66ee">FT_AVIPARSER_DROPAUDIO</a>) &amp;&amp;</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">movichk</a> == (<a class="code hl_define" href="container__avi_8h.html#aeb0711ffeb7e99672eed0498b314bbad">FT_AVI_4CC_AUDIO</a> | ((((<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStream) &amp; 0xFF) &lt;&lt; 8) | ((((<a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;AudioStream) &amp; 0xFF00) &gt;&gt; 8))){</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>        <span class="comment">//printf(&quot;Audio chunk size: %u , movioffset:%u.\n&quot;,chksz,pCtxt-&gt;CurrStat.MoviOff);</span></div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>        <span class="comment">//printf(&quot;Audio chunk.\n&quot;);</span></div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>        <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#a0f22ee111cddeed86588d89d6e6656bf">parsingAudio</a> = 1;</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>        Status = (<a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a>)<a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a54f3ab6286d43d23ec454c231c6aad3d">FT_AVIPAudFillChunk</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">padp</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a>,0);</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>        <a class="code hl_variable" href="_f_t___a_v_i_parser_8c.html#a0f22ee111cddeed86588d89d6e6656bf">parsingAudio</a> = 0;</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>    }</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>    {</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span><span class="preprocessor">#if defined(SHOWPARSERPRINTS)</span></div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>        <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;!AV chk %x %x\n&quot;</span>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">movichk</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a>);</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>        <span class="comment">/* Flush this chunk and go for another chunk */</span></div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>        Status = (<a class="code hl_enumeration" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a>)<a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>,<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chksz</a>);</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>    }</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span> </div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>    <span class="comment">/* Copy data from parser to input audio buffer */</span>   </div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>    <span class="keywordflow">return</span> Status;  </div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>}</div>
</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span> </div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span> </div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span><span class="comment">//free up every thing and exit</span></div>
<div class="foldopen" id="foldopen01676" data-start="{" data-end="}">
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#add085075ecf75554dc49f9134456786e"> 1676</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a>  <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#add085075ecf75554dc49f9134456786e">FT_AVIParser_Exit</a>(<a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>)</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>{</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>    <span class="comment">/* CLose any hanldes or context opened in avi parser init or steady state */</span></div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">FILE</a>* file = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File;</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>    <a class="code hl_struct" href="struct_f_i_l.html">FIL</a>* file = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;File;</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>    <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a4c5cd073e2b6a248b9cb35dda2879e45">F_CLOSE</a>(file);</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pCtxt</a>-&gt;Flags = 0;</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span> </div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span> </div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a>;</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>}</div>
</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span> </div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span> </div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html">AVI_CONTAINER_IDX1_ENTRY_t</a>{</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_variable" href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html#a8eb34770a0414dc2fde684adf3d9b40f">dwChunkId</a>;</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_variable" href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html#ad13bfcaa480d04d2d50fe5552c98a562">dwFlags</a>;</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_variable" href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html#ab772f4c1a53ba94eb37e8fdd8bb471f8">dwOffset</a>;</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_variable" href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html#aafc9fd31f2528a918696df4ecee9eada">dwSize</a>;</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span><span class="preprocessor">#if defined(FT900_PLATFORM)</span></div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>} <a class="code hl_function" href="container__avi_8h.html#a6bd12a538647ea48813664e616233151">__attribute__</a>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">packed</a>)) <a class="code hl_typedef" href="_f_t___a_v_i_parser_8c.html#a16dedc2c835048ae530bb772af8bd63a">AVI_CONTAINER_IDX1_ENTRY</a>;</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"><a class="line" href="_f_t___a_v_i_parser_8c.html#a16dedc2c835048ae530bb772af8bd63a"> 1700</a></span>} <a class="code hl_typedef" href="_f_t___a_v_i_parser_8c.html#a16dedc2c835048ae530bb772af8bd63a">AVI_CONTAINER_IDX1_ENTRY</a>;</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span><span class="keyword">extern</span> <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a7a701177b718d6ba731d5e14d084ada4">FT_AVIParser_Seek_To</a>(<a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">percent</a>, <a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>);</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span> </div>
<div class="foldopen" id="foldopen01704" data-start="{" data-end="}">
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"><a class="line" href="_f_t___app___play_video_8c.html#a7a701177b718d6ba731d5e14d084ada4"> 1704</a></span><a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_f_t___a_v_i_parser_8c.html#a7a701177b718d6ba731d5e14d084ada4">FT_AVIParser_Seek_To</a>(<a class="code hl_define" href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">percent</a>, <a class="code hl_struct" href="struct_f_t___a_v_i_parser.html">FT_AVIParser_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>)</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>{</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">approximateFrame</a> = (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.TotFrames * <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">percent</a>) / 100;</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>    <a class="code hl_struct" href="struct_f_t___a_v_i_riff.html">FT_AVIRiff_t</a> *<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a> = &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;Riff[0<span class="comment">/*pParser-&gt;NumRiff - 1*/</span>];</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">seekFileOffset</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Offset</a> = ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;indxSize * <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">percent</a>) / 1600) * 16 + 8, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">finalOffset</a>;</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">TotalDuration</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a>, offset = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.SuperIndexOffset + 12, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a> = 0, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prevFrameCount</a> = 0;</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RelativeOffset</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">EntriesInUse</a>;</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#aaadb8c4f7ef5c7e908e935e0d8712705">ft_int8_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a>;</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#afcc26b8b3eec493e51140f9b3cfdad0a">ft_int16_t</a> <a class="code hl_variable" href="_f_t___gpu___hal_8h.html#a3eb7625040e75586c906bd53e09465c3">length</a>;</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <a class="code hl_define" href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ret</a> = 0;</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span> </div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;SeekTo(): per=%d %d %d %d %d&quot;</span>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">percent</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.TotFrames, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;indxOff, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;indxSize, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Offset</a>);</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span><span class="preprocessor">#if defined(MSVC_PLATFORM) || defined(BT8XXEMU_PLATFORM) </span></div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;VideoStreamFound &amp;&amp; !(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a76c7dbcaa59748b75608c375883a3ecc">FT_AVIPARSER_DROPVIDEO</a>) &amp;&amp; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.ValidSuperIndexEntries) {</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>        offset=<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.SuperIndexOffset+12;</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>        <span class="keywordflow">for</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a>=0; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a>&lt;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.ValidSuperIndexEntries; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a>++, offset+=16) {</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prevFrameCount</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a>;</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, offset, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a> += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">approximateFrame</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a>) {</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>                offset -= 12;</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>            }</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>        }</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, offset, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, (<span class="keywordtype">long</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>) != 0) {</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>            <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Unable to seek.\n&quot;</span>);</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>        }</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span> </div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a>+12, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">EntriesInUse</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File); <span class="comment">//64bit size but take only 32bit for fatfs</span></div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RelativeOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.IndexSubType == 0) { <span class="comment">//standard index</span></div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a> = 8;</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>        }</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a> = 12;</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>        }</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a>+40+(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">approximateFrame</a> - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prevFrameCount</a>)*(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a>), <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span> </div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RelativeOffset</a> + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a> - 8, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>) != 0) {</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>            <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Unable to see. Error encountered during seeking.\n&quot;</span>);</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>        }</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span> </div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>    }</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;AudioStreamFound &amp;&amp; !(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37af88acd3fa6c304c1376b54d5044f66ee">FT_AVIPARSER_DROPAUDIO</a>) &amp;&amp; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SAud.ValidSuperIndexEntries) {</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>        offset=<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SAud.SuperIndexOffset+12;</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>        <span class="keywordflow">for</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a>=0; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a>&lt;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SAud.ValidSuperIndexEntries; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a>++, offset+=16) {</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prevFrameCount</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a>;</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, offset, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a> += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">approximateFrame</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a>) {</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>            }</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>        }</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, offset-12, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span> </div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a>+12, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">EntriesInUse</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File); <span class="comment">//64bit size but take only 32bit for fatfs</span></div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RelativeOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SAud.IndexSubType == 0) { <span class="comment">//standard index</span></div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a> = 8;</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>        }</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a> = 12;</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>        }</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a>+40+(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">approximateFrame</a> - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prevFrameCount</a>)*(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a>), <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span> </div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RelativeOffset</a> + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a> - 8, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    }</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;indxOff + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Offset</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span> </div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>        <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;MoviOff + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> - 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> &lt; 0) {</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>            <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;File operation error: unable to seek in file.\n&quot;</span>);</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>        }</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">finalOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a>;</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a> != 4) {</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>            <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;File operation error: unable to read file content.\n&quot;</span>);</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>        }</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span> </div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>        <span class="comment">//check to see whether the offset is relative to &#39;movi&#39; chunk</span></div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>        <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#ada88d82970d43ace34223da0b026f547">FT_AVI_4CC_COMPRESSED_VIDEO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#a16459494581ed9a12d399bebafd07037">FT_AVI_4CC_UNCOMPRESSED_VIDEO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#aeb0711ffeb7e99672eed0498b314bbad">FT_AVI_4CC_AUDIO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#ac143568c3575f5a6fd01fdc883df3cb3">FT_AVI_4CC_TEXT</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#a7f2c18bb0cff69b1124cae199881091e">FT_AVI_4CC_PALETTE_CHANGE</a>) {</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;MoviOff + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">finalOffset</a> - 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>            <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Seeking relative to movi chunk.\n&quot;</span>);</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>        }</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>            <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> &lt; 0) {</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;File operation error: unable to seek in file.\n&quot;</span>);</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>            }</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">finalOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a>;</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fread</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a>, 1, 4, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a> != 4) {</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;File operation error: unable to read file content.\n&quot;</span>);</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>            }</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>            <span class="keywordflow">if</span>((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#ada88d82970d43ace34223da0b026f547">FT_AVI_4CC_COMPRESSED_VIDEO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#a16459494581ed9a12d399bebafd07037">FT_AVI_4CC_UNCOMPRESSED_VIDEO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#aeb0711ffeb7e99672eed0498b314bbad">FT_AVI_4CC_AUDIO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#ac143568c3575f5a6fd01fdc883df3cb3">FT_AVI_4CC_TEXT</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#a7f2c18bb0cff69b1124cae199881091e">FT_AVI_4CC_PALETTE_CHANGE</a>) {</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">finalOffset</a>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">SEEK_SET</a>);</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Seeking relative to starting offset.\n&quot;</span>);</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>            }</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Error encountered while seeking in the file.\n&quot;</span>);</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>            }</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>        }</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>    }</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ret</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ftell</a>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span><span class="preprocessor">#elif defined(FT900_PLATFORM)</span></div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span> </div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span><span class="preprocessor">#define ftell f_tell</span></div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span><span class="preprocessor">#define fseek f_lseek</span></div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span> </div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;VideoStreamFound &amp;&amp; !(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a76c7dbcaa59748b75608c375883a3ecc">FT_AVIPARSER_DROPVIDEO</a>) &amp;&amp; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.ValidSuperIndexEntries) {</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>        offset = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.SuperIndexOffset + 12;</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>        <span class="keywordflow">for</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a> = 0; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.ValidSuperIndexEntries; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a>++, offset += 16) {</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prevFrameCount</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a>;</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, offset);</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>            <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a> += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">approximateFrame</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a>) {</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>            }</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>        }</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, offset - 12);</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>) != <a class="code hl_enumvalue" href="ff_8h.html#a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1">FR_OK</a>) {</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>            <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;Unable to seek to movi index: %x.\n&quot;</span>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>);</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>        }</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span> </div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a> + 12);</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">EntriesInUse</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);      <span class="comment">//64bit size but take only 32bit for fatfs</span></div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RelativeOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SVid.IndexSubType == 0) { <span class="comment">//standard index</span></div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a> = 8;</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a> = 12;</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>        }</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a> + 40 + (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">approximateFrame</a> - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prevFrameCount</a>) * (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a>));</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>        <span class="comment">//printf(&quot;frame: %u type:%u ao:%x ro:%x &quot;, approximateFrame, pParser-&gt;SVid.IndexSubType, chunkIndexOffset + 40 + (approximateFrame - prevFrameCount) * (lengthPerEntry), RelativeOffset);</span></div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>        <span class="comment">//printf(&quot;dwOffset:%x\n&quot;, value);</span></div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RelativeOffset</a> + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a> - 8);</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>        <span class="comment">//printf(&quot;Final seek offset:%u\n&quot;, RelativeOffset + value - 8);</span></div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span> </div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;AudioStreamFound &amp;&amp; !(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;Flags &amp; <a class="code hl_enumvalue" href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37af88acd3fa6c304c1376b54d5044f66ee">FT_AVIPARSER_DROPAUDIO</a>) &amp;&amp; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SAud.ValidSuperIndexEntries) {</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>        offset = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SAud.SuperIndexOffset + 12;</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>        <span class="keywordflow">for</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a> = 0; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SAud.ValidSuperIndexEntries; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">i</a>++, offset += 16) {</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prevFrameCount</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a>;</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, offset);</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>            <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a> += <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">approximateFrame</a> &lt; <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">frames</a>) {</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>            }</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>        }</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, offset - 12);</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>);</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span> </div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a> + 12);</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">EntriesInUse</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);      <span class="comment">//64bit size but take only 32bit for fatfs</span></div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RelativeOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>;</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;SAud.IndexSubType == 0) { <span class="comment">//standard index</span></div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a> = 8;</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a> = 12;</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>        }</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">chunkIndexOffset</a> + 40 + (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">approximateFrame</a> - <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">prevFrameCount</a>) * (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">lengthPerEntry</a>));</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span> </div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">RelativeOffset</a> + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">value</a> - 8);</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span> </div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>        <a class="code hl_struct" href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html">AVI_CONTAINER_IDX1_ENTRY</a> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Entry</a>;</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>        <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">newPos</a>;</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span> </div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;indxOff + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Offset</a> - 8);</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Entry</a>, <span class="keyword">sizeof</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Entry</a>), &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span> </div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a> != <span class="keyword">sizeof</span>(<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Entry</a>)) {</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>            <a class="code hl_define" href="_f_t___a_v_i_parser_8c.html#a317b4a03f79d8d4d9da8e4fe9c6c7f59">FT_Error</a>(<span class="stringliteral">&quot;Could not read idx1 entry! %d&quot;</span>, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>        }</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>        <span class="comment">/*FT_Debug(&quot;At offset: %d 0x%x 0x%x %d %d&quot;, pidx1-&gt;indxOff + idx1Offset,</span></div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span><span class="comment">                idx1Entry.dwChunkId, idx1Entry.dwFlags, idx1Entry.dwOffset, idx1Entry.dwSize);*/</span></div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>        <span class="comment">//Assume that offset to beginning of file, not movi</span></div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>        <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Entry</a>.dwOffset);</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span> </div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> != <a class="code hl_enumvalue" href="ff_8h.html#a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1">FR_OK</a>) {</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>            <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(((<span class="keywordtype">char</span> [18]){<span class="stringliteral">&quot;%d: Error seek.\n&quot;</span>}), <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">__LINE__</a>);</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>        }</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>        <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">finalOffset</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">idx1Entry</a>.dwOffset;</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>        <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a> != 4) {</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>            <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(((<span class="keywordtype">char</span> [18]){<span class="stringliteral">&quot;%d: Error read.\n&quot;</span>}), <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">__LINE__</a>);</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>        }</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span> </div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>        <span class="comment">//check to see whether the offset is relative to &#39;movi&#39; chunk</span></div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>        <span class="keywordflow">if</span> ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#ada88d82970d43ace34223da0b026f547">FT_AVI_4CC_COMPRESSED_VIDEO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#a16459494581ed9a12d399bebafd07037">FT_AVI_4CC_UNCOMPRESSED_VIDEO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#aeb0711ffeb7e99672eed0498b314bbad">FT_AVI_4CC_AUDIO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#ac143568c3575f5a6fd01fdc883df3cb3">FT_AVI_4CC_TEXT</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#a7f2c18bb0cff69b1124cae199881091e">FT_AVI_4CC_PALETTE_CHANGE</a>) {</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>            <span class="comment">//pParser-&gt;CurrStat.MoviOff = pidx1-&gt;MoviOff + finalOffset - 4;</span></div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>            <span class="comment">/*fseek(&amp;pParser-&gt;File, pidx1-&gt;MoviOff + finalOffset - 4);*/</span></div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">newPos</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ftell</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>            <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">newPos</a> - 4);</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>            <a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">finalOffset</a> + <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pidx1</a>-&gt;MoviOff - 4);</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a> != <a class="code hl_enumvalue" href="ff_8h.html#a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1">FR_OK</a>) {</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(((<span class="keywordtype">char</span> [18]){<span class="stringliteral">&quot;%d: Error seek.\n&quot;</span>}), <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">__LINE__</a>);</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>            }</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>            <a class="code hl_function" href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a>, 4, &amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a>);</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">bytesRead</a> != 4) {</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(((<span class="keywordtype">char</span> [18]){<span class="stringliteral">&quot;%d: Error read.\n&quot;</span>}), <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">__LINE__</a>);</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>            }</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>            <span class="keywordflow">if</span> ((<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#ada88d82970d43ace34223da0b026f547">FT_AVI_4CC_COMPRESSED_VIDEO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#a16459494581ed9a12d399bebafd07037">FT_AVI_4CC_UNCOMPRESSED_VIDEO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#aeb0711ffeb7e99672eed0498b314bbad">FT_AVI_4CC_AUDIO</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#ac143568c3575f5a6fd01fdc883df3cb3">FT_AVI_4CC_TEXT</a> || (<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fourcc</a> &amp; 0xFFFF3030) == <a class="code hl_define" href="container__avi_8h.html#a7f2c18bb0cff69b1124cae199881091e">FT_AVI_4CC_PALETTE_CHANGE</a>) {</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>                <span class="comment">//pParser-&gt;CurrStat.MoviOff = finalOffset;</span></div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">newPos</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ftell</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>                <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">fseek</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File, <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">newPos</a> - 4);</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>                <a class="code hl_define" href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(((<span class="keywordtype">char</span> [18]){<span class="stringliteral">&quot;%d: Error seek.\n&quot;</span>}), <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">__LINE__</a>);</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>            }</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>        }</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>    }</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>    <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ret</a> = <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ftell</a>(&amp;<a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">pParser</a>-&gt;File);</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">ret</a>;</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>}</div>
</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span> </div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span><span class="comment">/* Nothing beyond this */</span></div>
<div class="ttc" id="a_demo_gauges_8c_html_a9493b264589a6c332c77858802595527"><div class="ttname"><a href="_demo_gauges_8c.html#a9493b264589a6c332c77858802595527">cs</a></div><div class="ttdeci">static void cs(uint8_t i)</div><div class="ttdef"><b>Definition</b> <a href="_demo_gauges_8c_source.html#l00087">DemoGauges.c:87</a></div></div>
<div class="ttc" id="a_demo_imageviewer_8c_html_a40dbcab778a8e10bff2181e68bf45c56"><div class="ttname"><a href="_demo_imageviewer_8c.html#a40dbcab778a8e10bff2181e68bf45c56">fResult</a></div><div class="ttdeci">FRESULT fResult</div><div class="ttdef"><b>Definition</b> <a href="_demo_imageviewer_8c_source.html#l00082">DemoImageviewer.c:82</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a0919c216e9bcae20727d1d028b3373a7"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a0919c216e9bcae20727d1d028b3373a7">FT_AVIParser_Init</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_Init(FT_AVIParser_t *pCtxt)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00369">FT_AVIParser.c:369</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a0f22ee111cddeed86588d89d6e6656bf"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a0f22ee111cddeed86588d89d6e6656bf">parsingAudio</a></div><div class="ttdeci">volatile ft_uint32_t parsingAudio</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00021">FT_AVIParser.c:21</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a1081fbf4540df122e7b21aa4d82a9b87"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a1081fbf4540df122e7b21aa4d82a9b87">FT_AVIParser_SetProp</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_SetProp(FT_AVIParser_t *pCtxt)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00498">FT_AVIParser.c:498</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a16dedc2c835048ae530bb772af8bd63a"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a16dedc2c835048ae530bb772af8bd63a">AVI_CONTAINER_IDX1_ENTRY</a></div><div class="ttdeci">struct AVI_CONTAINER_IDX1_ENTRY_t AVI_CONTAINER_IDX1_ENTRY</div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a2521933496301f87b17eaf5bbfb6bb8f"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a2521933496301f87b17eaf5bbfb6bb8f">FT_AVIPReadL16</a></div><div class="ttdeci">ft_uint16_t FT_AVIPReadL16(FT_AVIParser_t *pAviP)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00211">FT_AVIParser.c:211</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a2c7e33e7f4b948d213a4e501e624f47c"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a2c7e33e7f4b948d213a4e501e624f47c">F_READ</a></div><div class="ttdeci">#define F_READ(f, b, s, ret, err)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00096">FT_AVIParser.c:96</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a317b4a03f79d8d4d9da8e4fe9c6c7f59"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a317b4a03f79d8d4d9da8e4fe9c6c7f59">FT_Error</a></div><div class="ttdeci">#define FT_Error(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00043">FT_AVIParser.c:43</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a39292d307ecdbd3484bff0ad6394af3b"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a39292d307ecdbd3484bff0ad6394af3b">F_EOF</a></div><div class="ttdeci">#define F_EOF(f)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00100">FT_AVIParser.c:100</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a489c462fc201db0931c7633ed40f46c0"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a489c462fc201db0931c7633ed40f46c0">FT_AVIParser_GetProp</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_GetProp(FT_AVIParser_t *pCtxt)</div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a4c5cd073e2b6a248b9cb35dda2879e45"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a4c5cd073e2b6a248b9cb35dda2879e45">F_CLOSE</a></div><div class="ttdeci">#define F_CLOSE(f)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00097">FT_AVIParser.c:97</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a4f39f32b0c08ca2ff409f96bbcf9c542"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a4f39f32b0c08ca2ff409f96bbcf9c542">FT_AVIFillData</a></div><div class="ttdeci">ft_int32_t FT_AVIFillData(FT_AVIParser_t *pCtxt, Ft_Gpu_Hal_Context_t *pHHal, Fifo_t *pFifo, FT_RingBuffer_t *pRBuff, ft_uint32_t Data2Copy)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l01069">FT_AVIParser.c:1069</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a5385c9659c2ac6c1d07401917d2ea05d"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a5385c9659c2ac6c1d07401917d2ea05d">FT_AVIParser_Reset</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_Reset(FT_AVIParser_t *pCtxt, ft_char8_t *pFilename)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00480">FT_AVIParser.c:480</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a54f3ab6286d43d23ec454c231c6aad3d"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a54f3ab6286d43d23ec454c231c6aad3d">FT_AVIPAudFillChunk</a></div><div class="ttdeci">ft_int32_t FT_AVIPAudFillChunk(FT_AVIParser_t *pCtxt, FT_AudDataPath_t *padp, ft_uint32_t ABuffSz, int isPartial)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l01425">FT_AVIParser.c:1425</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a577924c36ab08d8768a5ec8bba50c022"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a577924c36ab08d8768a5ec8bba50c022">FT_AVIPCheckSz</a></div><div class="ttdeci">ft_int32_t FT_AVIPCheckSz(FT_NBuffer_t *pnb, ft_int32_t OutLength)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00106">FT_AVIParser.c:106</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a62d1a1be27e119f338946a51b8abc526"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a62d1a1be27e119f338946a51b8abc526">g_aviparser</a></div><div class="ttdeci">static FT_AVIParser_t * g_aviparser</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00103">FT_AVIParser.c:103</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a6532237c25423849f7875f442d10a7b0"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a6532237c25423849f7875f442d10a7b0">FT_AVIParser_FillChunk</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_FillChunk(FT_AVIParser_t *pCtxt, FT_VidDataPath_t *pvdp, FT_AudDataPath_t *padp)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l01531">FT_AVIParser.c:1531</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a6d29695697db82f4a28f5edd1dcd22be"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a6d29695697db82f4a28f5edd1dcd22be">FT_AVIParser_SetRiff</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_SetRiff(FT_AVIParser_t *pCtxt, ft_uint8_t RiffNo)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l01045">FT_AVIParser.c:1045</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a793355f7f92d0ca92283c5fd50beb078"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a793355f7f92d0ca92283c5fd50beb078">F_TELL</a></div><div class="ttdeci">#define F_TELL(f)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00099">FT_AVIParser.c:99</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a7a701177b718d6ba731d5e14d084ada4"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a7a701177b718d6ba731d5e14d084ada4">FT_AVIParser_Seek_To</a></div><div class="ttdeci">ft_uint32_t FT_AVIParser_Seek_To(ft_uint8_t percent, FT_AVIParser_t *pParser)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l01704">FT_AVIParser.c:1704</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a91306c75721a4cb005275c385d6cd8b2"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a91306c75721a4cb005275c385d6cd8b2">F_SEEK</a></div><div class="ttdeci">#define F_SEEK(f, pos)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00098">FT_AVIParser.c:98</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a91c569e57d093472902f79bbc044928b"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a91c569e57d093472902f79bbc044928b">FT_AVIFillVdata</a></div><div class="ttdeci">#define FT_AVIFillVdata(pCtxt, pvdp, VDatatocopy)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l01125">FT_AVIParser.c:1125</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a92653a63b232ab0492de08946744895a"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a92653a63b232ab0492de08946744895a">FT_AVIPFetch</a></div><div class="ttdeci">ft_int32_t FT_AVIPFetch(FT_AVIParser_t *pAviP, ft_uint32_t FileOffset)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00284">FT_AVIParser.c:284</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a94f12dc02309ab7a549003f62e6a37e0"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a94f12dc02309ab7a549003f62e6a37e0">FT_AVIParser_SetOpenFile</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_SetOpenFile(FT_AVIParser_t *pCtxt, ft_char8_t *pFilename)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00438">FT_AVIParser.c:438</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_a9fe7710d0ff8aa1cc719329fe11f3537"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#a9fe7710d0ff8aa1cc719329fe11f3537">FT_AVIPReadL32</a></div><div class="ttdeci">ft_uint32_t FT_AVIPReadL32(FT_AVIParser_t *pAviP)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00220">FT_AVIParser.c:220</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_ab371f78779555db7213eadb7fa88063f"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#ab371f78779555db7213eadb7fa88063f">FT_AVIParser_ParseAvi</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_ParseAvi(FT_AVIParser_t *pCtxt)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00511">FT_AVIParser.c:511</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_ab8c8cdad4591d2fee17fb84c2f4eaa65"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#ab8c8cdad4591d2fee17fb84c2f4eaa65">FT_AVIPRead</a></div><div class="ttdeci">ft_int32_t FT_AVIPRead(FT_AVIParser_t *pAviP, ft_uint8_t *pOutBuffer, ft_int32_t OutLength, ft_int32_t *pReadLength)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00124">FT_AVIParser.c:124</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_ad27b1cb98c50e462e673f502d22f430a"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#ad27b1cb98c50e462e673f502d22f430a">FT_AVIPFlush</a></div><div class="ttdeci">ft_int32_t FT_AVIPFlush(FT_AVIParser_t *pAviP, ft_int32_t FlushLength)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00320">FT_AVIParser.c:320</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_add085075ecf75554dc49f9134456786e"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#add085075ecf75554dc49f9134456786e">FT_AVIParser_Exit</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_Exit(FT_AVIParser_t *pCtxt)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l01676">FT_AVIParser.c:1676</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_aeae1a641e884fbdfb47762e86666028f"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#aeae1a641e884fbdfb47762e86666028f">FT_AVIPRead8</a></div><div class="ttdeci">ft_uint8_t FT_AVIPRead8(FT_AVIParser_t *pAviP)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00191">FT_AVIParser.c:191</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_aebae08fa5cbc0a23bb905a855348397c"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#aebae08fa5cbc0a23bb905a855348397c">FT_AVIFillAdata</a></div><div class="ttdeci">#define FT_AVIFillAdata(pCtxt, padp, ADatatocopy)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l01130">FT_AVIParser.c:1130</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_af115c53efbd180a24b02883c4962473c"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#af115c53efbd180a24b02883c4962473c">FT_AVIParser_SetBuff</a></div><div class="ttdeci">ft_int32_t FT_AVIParser_SetBuff(FT_AVIParser_t *pCtxt, ft_uint8_t *pbuffer, ft_int32_t BuffLen)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00416">FT_AVIParser.c:416</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_af4f61b7a8ff7e5ff1e557c8dbeab0ef3"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#af4f61b7a8ff7e5ff1e557c8dbeab0ef3">parsingVideo</a></div><div class="ttdeci">volatile ft_uint32_t parsingVideo</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l00022">FT_AVIParser.c:22</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8c_html_af9349de54fd7fa4ae986077152002731"><div class="ttname"><a href="_f_t___a_v_i_parser_8c.html#af9349de54fd7fa4ae986077152002731">FT_AVIPVidFillChunk</a></div><div class="ttdeci">ft_int32_t FT_AVIPVidFillChunk(FT_AVIParser_t *pCtxt, FT_VidDataPath_t *pvdp, ft_uint32_t VBuffSz, int isPartial)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8c_source.html#l01286">FT_AVIParser.c:1286</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html">FT_AVIParser.h</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a01877424584758f7e479a8d3050c3cc2"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a01877424584758f7e479a8d3050c3cc2">FT_AVIP_JPGFRAMEHDR</a></div><div class="ttdeci">#define FT_AVIP_JPGFRAMEHDR</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00024">FT_AVIParser.h:24</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a066f855e3fd1b027bc27ea91e281a6bf"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a066f855e3fd1b027bc27ea91e281a6bf">FT_AVIPReadB32</a></div><div class="ttdeci">ft_uint32_t FT_AVIPReadB32(FT_AVIParser_t *pAviP)</div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a0e3a396bd271ee171f78604e58106c52"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a0e3a396bd271ee171f78604e58106c52">FT_AVIPReadB16</a></div><div class="ttdeci">ft_uint16_t FT_AVIPReadB16(FT_AVIParser_t *pAviP)</div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52a"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52a">FT_AVIPARSER_STATUS</a></div><div class="ttdeci">FT_AVIPARSER_STATUS</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00221">FT_AVIParser.h:222</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aa2cb7e2f0d1cd8f5f277698162bb7ff69"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa2cb7e2f0d1cd8f5f277698162bb7ff69">FT_AVIPARSER_COPYERROR</a></div><div class="ttdeci">@ FT_AVIPARSER_COPYERROR</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00223">FT_AVIParser.h:223</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aa517a1bc334db96f77300a1990d4443b5"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa517a1bc334db96f77300a1990d4443b5">FT_AVIPARSER_EOF</a></div><div class="ttdeci">@ FT_AVIPARSER_EOF</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00234">FT_AVIParser.h:234</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aa51ac5c0347402fa140298a3e828f0d18"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa51ac5c0347402fa140298a3e828f0d18">FT_AVIPARSER_FILENOTFOUND</a></div><div class="ttdeci">@ FT_AVIPARSER_FILENOTFOUND</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00228">FT_AVIParser.h:228</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aa63823e522aa4303dce1cd200266ce14f"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa63823e522aa4303dce1cd200266ce14f">FT_AVIPARSER_BQEFULL</a></div><div class="ttdeci">@ FT_AVIPARSER_BQEFULL</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00235">FT_AVIParser.h:235</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aa91af78ccb94264a04731540f5baa9710"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aa91af78ccb94264a04731540f5baa9710">FT_AVIPARSER_UNKNOWNERR</a></div><div class="ttdeci">@ FT_AVIPARSER_UNKNOWNERR</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00230">FT_AVIParser.h:230</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aaafc4870ac85d856c4f0fa087e05eb5eb"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaafc4870ac85d856c4f0fa087e05eb5eb">FT_AVIPARSER_NOTAVIFILE</a></div><div class="ttdeci">@ FT_AVIPARSER_NOTAVIFILE</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00227">FT_AVIParser.h:227</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aaba84335a55f4f978447d6445125278ae">FT_AVIPARSER_OK</a></div><div class="ttdeci">@ FT_AVIPARSER_OK</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00233">FT_AVIParser.h:233</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aabc977f0021894b1e615d6d30c18da821"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aabc977f0021894b1e615d6d30c18da821">FT_AVIPARSER_FILEERR</a></div><div class="ttdeci">@ FT_AVIPARSER_FILEERR</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00231">FT_AVIParser.h:231</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aabf50c85e2a3b45b54b8a5290e40d86c0"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aabf50c85e2a3b45b54b8a5290e40d86c0">FT_AVIPARSER_FREADERR</a></div><div class="ttdeci">@ FT_AVIPARSER_FREADERR</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00224">FT_AVIParser.h:224</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac1b4fe52fc5840d85a9e11bb87d640ff">FT_AVIPARSER_PARTIALBUFFERUSECASE</a></div><div class="ttdeci">@ FT_AVIPARSER_PARTIALBUFFERUSECASE</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00236">FT_AVIParser.h:236</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aac838420edea6613ac27c81bbce8f161f"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aac838420edea6613ac27c81bbce8f161f">FT_AVIPARSER_INVALIDFILE</a></div><div class="ttdeci">@ FT_AVIPARSER_INVALIDFILE</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00226">FT_AVIParser.h:226</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aae27ceaf0ad1e44d7d5e52977aaedbf89"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aae27ceaf0ad1e44d7d5e52977aaedbf89">FT_AVIPARSER_INVALIDPARAMS</a></div><div class="ttdeci">@ FT_AVIPARSER_INVALIDPARAMS</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00229">FT_AVIParser.h:229</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a2fa584d2c29c93730cf30e217ad9a52aae5a150c4846883aa2436dd77bad372db"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a2fa584d2c29c93730cf30e217ad9a52aae5a150c4846883aa2436dd77bad372db">FT_AVIPARSER_FSEEKERR</a></div><div class="ttdeci">@ FT_AVIPARSER_FSEEKERR</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00225">FT_AVIParser.h:225</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a480135dfc68dc21485d6b03f724c49f0"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a480135dfc68dc21485d6b03f724c49f0">FT_AVI_INVALID_STREAM</a></div><div class="ttdeci">#define FT_AVI_INVALID_STREAM</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00196">FT_AVIParser.h:196</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a57347b1472761e38bcf123bddcc56f37a059f471f2d8c32f6ac490182dbafc9ba"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a059f471f2d8c32f6ac490182dbafc9ba">FT_AVIPARSER_DROP_VIDEO_ONE_FRAME</a></div><div class="ttdeci">@ FT_AVIPARSER_DROP_VIDEO_ONE_FRAME</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00051">FT_AVIParser.h:51</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a57347b1472761e38bcf123bddcc56f37a060b7c4b7666811afb0171dd0d181830"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a060b7c4b7666811afb0171dd0d181830">FT_AVIPARSER_DROPALLMEDIA</a></div><div class="ttdeci">@ FT_AVIPARSER_DROPALLMEDIA</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00049">FT_AVIParser.h:49</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a57347b1472761e38bcf123bddcc56f37a734828850545616f88b344d35b32866b"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a734828850545616f88b344d35b32866b">FT_AVIPARSER_FAKESYNC</a></div><div class="ttdeci">@ FT_AVIPARSER_FAKESYNC</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00050">FT_AVIParser.h:50</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a57347b1472761e38bcf123bddcc56f37a76c7dbcaa59748b75608c375883a3ecc"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37a76c7dbcaa59748b75608c375883a3ecc">FT_AVIPARSER_DROPVIDEO</a></div><div class="ttdeci">@ FT_AVIPARSER_DROPVIDEO</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00048">FT_AVIParser.h:48</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a57347b1472761e38bcf123bddcc56f37af88acd3fa6c304c1376b54d5044f66ee"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a57347b1472761e38bcf123bddcc56f37af88acd3fa6c304c1376b54d5044f66ee">FT_AVIPARSER_DROPAUDIO</a></div><div class="ttdeci">@ FT_AVIPARSER_DROPAUDIO</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00047">FT_AVIParser.h:47</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a57901656449697aa99fb70318db982ed"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a57901656449697aa99fb70318db982ed">FT_WAVE_FORMAT_MULAW</a></div><div class="ttdeci">#define FT_WAVE_FORMAT_MULAW</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00155">FT_AVIParser.h:155</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a9df8d406282ec340a924fccf9ac2c968a25923ab5ab1e6f7447c41b2b45ea1fba"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a25923ab5ab1e6f7447c41b2b45ea1fba">FT_AVIPMETAD_KEYFRAME</a></div><div class="ttdeci">@ FT_AVIPMETAD_KEYFRAME</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00213">FT_AVIParser.h:213</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a9df8d406282ec340a924fccf9ac2c968a860605cd7b41da8ba41f9f11d70001f3"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a860605cd7b41da8ba41f9f11d70001f3">FT_AVIPMETAD_PARTIALFRAME</a></div><div class="ttdeci">@ FT_AVIPMETAD_PARTIALFRAME</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00214">FT_AVIParser.h:214</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a9df8d406282ec340a924fccf9ac2c968a96e993b5d99078e08ee9d11ba5c60554"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968a96e993b5d99078e08ee9d11ba5c60554">FT_AVIPMETAD_NEWFRAME</a></div><div class="ttdeci">@ FT_AVIPMETAD_NEWFRAME</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00216">FT_AVIParser.h:216</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_a9df8d406282ec340a924fccf9ac2c968aa9901eb8d8605b2ec34bb9d0ac6dd60e"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#a9df8d406282ec340a924fccf9ac2c968aa9901eb8d8605b2ec34bb9d0ac6dd60e">FT_AVIPMETAD_PARTIALBUFFER</a></div><div class="ttdeci">@ FT_AVIPMETAD_PARTIALBUFFER</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00215">FT_AVIParser.h:215</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_aef4b86dbae542b65f6ff0ef3cb109cf3"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#aef4b86dbae542b65f6ff0ef3cb109cf3">FT_WAVE_FORMAT_ADPCM_IMA_WAV</a></div><div class="ttdeci">#define FT_WAVE_FORMAT_ADPCM_IMA_WAV</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00156">FT_AVIParser.h:156</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_af34fc0750eae10cee3bf73d115b2734b"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#af34fc0750eae10cee3bf73d115b2734b">FT_AVIP_SECTOR_SIZE</a></div><div class="ttdeci">#define FT_AVIP_SECTOR_SIZE</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00023">FT_AVIParser.h:23</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_afb276970110ebd1770b94246e9653a65"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#afb276970110ebd1770b94246e9653a65">FT_WAVE_FORMAT_MPEGLAYER3</a></div><div class="ttdeci">#define FT_WAVE_FORMAT_MPEGLAYER3</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00158">FT_AVIParser.h:158</a></div></div>
<div class="ttc" id="a_f_t___a_v_i_parser_8h_html_afcb1c19bf6b8e39897becf2aecf6a4fb"><div class="ttname"><a href="_f_t___a_v_i_parser_8h.html#afcb1c19bf6b8e39897becf2aecf6a4fb">FT_AVIP_MAXRIFFHDLS</a></div><div class="ttdeci">#define FT_AVIP_MAXRIFFHDLS</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00022">FT_AVIParser.h:22</a></div></div>
<div class="ttc" id="a_f_t___app___play_video_8c_html_a3cb9f0894fab1c8fbb0753c9c7c2a8d9"><div class="ttname"><a href="_f_t___app___play_video_8c.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a></div><div class="ttdeci">#define printf</div><div class="ttdef"><b>Definition</b> <a href="_f_t___app___play_video_8c_source.html#l00067">FT_App_PlayVideo.c:67</a></div></div>
<div class="ttc" id="a_f_t___audio_8h_html"><div class="ttname"><a href="_f_t___audio_8h.html">FT_Audio.h</a></div></div>
<div class="ttc" id="a_f_t___buffer_8c_html_a42d644713d39f0a2ca1cbd5a62f4c8ad"><div class="ttname"><a href="_f_t___buffer_8c.html#a42d644713d39f0a2ca1cbd5a62f4c8ad">FT_RingBuffer_FreeSpace</a></div><div class="ttdeci">ft_int32_t FT_RingBuffer_FreeSpace(FT_RingBuffer_t *prb)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___buffer_8c_source.html#l00316">FT_Buffer.c:316</a></div></div>
<div class="ttc" id="a_f_t___buffer_8c_html_ac92ac19f032cd325851da047e1488f9f"><div class="ttname"><a href="_f_t___buffer_8c.html#ac92ac19f032cd325851da047e1488f9f">FT_RingBuffer_Write</a></div><div class="ttdeci">ft_int32_t FT_RingBuffer_Write(FT_RingBuffer_t *prb, ft_uint8_t *pInBuffer, ft_int32_t InLength, ft_int32_t *pWriteLength)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___buffer_8c_source.html#l00181">FT_Buffer.c:181</a></div></div>
<div class="ttc" id="a_f_t___buffer_8h_html"><div class="ttname"><a href="_f_t___buffer_8h.html">FT_Buffer.h</a></div></div>
<div class="ttc" id="a_f_t___gpu___hal_8h_html_a3eb7625040e75586c906bd53e09465c3"><div class="ttname"><a href="_f_t___gpu___hal_8h.html#a3eb7625040e75586c906bd53e09465c3">length</a></div><div class="ttdeci">static ft_uint32_t ft_uint8_t ft_uint32_t length</div><div class="ttdef"><b>Definition</b> <a href="_f_t___gpu___hal_8h_source.html#l00139">FT_Gpu_Hal.h:140</a></div></div>
<div class="ttc" id="a_f_t___gpu___hal_8h_html_a678ea64c0153afa9dcb36eb984bb27a9"><div class="ttname"><a href="_f_t___gpu___hal_8h.html#a678ea64c0153afa9dcb36eb984bb27a9">Ft_Gpu_Hal_Context_t</a></div><div class="ttdeci">#define Ft_Gpu_Hal_Context_t</div><div class="ttdef"><b>Definition</b> <a href="_f_t___gpu___hal_8h_source.html#l00097">FT_Gpu_Hal.h:97</a></div></div>
<div class="ttc" id="a_f_t___gpu___hal_8h_html_a93f2b89c7b31b20a927753cce8342c02"><div class="ttname"><a href="_f_t___gpu___hal_8h.html#a93f2b89c7b31b20a927753cce8342c02">ft_uint32_t</a></div><div class="ttdeci">#define ft_uint32_t</div><div class="ttdef"><b>Definition</b> <a href="_f_t___gpu___hal_8h_source.html#l00054">FT_Gpu_Hal.h:54</a></div></div>
<div class="ttc" id="a_f_t___gpu___hal_8h_html_aaadb8c4f7ef5c7e908e935e0d8712705"><div class="ttname"><a href="_f_t___gpu___hal_8h.html#aaadb8c4f7ef5c7e908e935e0d8712705">ft_int8_t</a></div><div class="ttdeci">#define ft_int8_t</div><div class="ttdef"><b>Definition</b> <a href="_f_t___gpu___hal_8h_source.html#l00049">FT_Gpu_Hal.h:49</a></div></div>
<div class="ttc" id="a_f_t___gpu___hal_8h_html_ac4720b4ec52ce0700c35c80b3d7f55ac"><div class="ttname"><a href="_f_t___gpu___hal_8h.html#ac4720b4ec52ce0700c35c80b3d7f55ac">ft_uint16_t</a></div><div class="ttdeci">#define ft_uint16_t</div><div class="ttdef"><b>Definition</b> <a href="_f_t___gpu___hal_8h_source.html#l00052">FT_Gpu_Hal.h:52</a></div></div>
<div class="ttc" id="a_f_t___gpu___hal_8h_html_acb728e7d7c81fbc004a1d985d10af365"><div class="ttname"><a href="_f_t___gpu___hal_8h.html#acb728e7d7c81fbc004a1d985d10af365">ft_uint8_t</a></div><div class="ttdeci">#define ft_uint8_t</div><div class="ttdef"><b>Definition</b> <a href="_f_t___gpu___hal_8h_source.html#l00050">FT_Gpu_Hal.h:50</a></div></div>
<div class="ttc" id="a_f_t___gpu___hal_8h_html_ad3738fdd3320a259d25ebc70a518facd"><div class="ttname"><a href="_f_t___gpu___hal_8h.html#ad3738fdd3320a259d25ebc70a518facd">ft_char8_t</a></div><div class="ttdeci">#define ft_char8_t</div><div class="ttdef"><b>Definition</b> <a href="_f_t___gpu___hal_8h_source.html#l00045">FT_Gpu_Hal.h:45</a></div></div>
<div class="ttc" id="a_f_t___gpu___hal_8h_html_afaaad70b3d04c568cb37589bc50838f3"><div class="ttname"><a href="_f_t___gpu___hal_8h.html#afaaad70b3d04c568cb37589bc50838f3">ft_int32_t</a></div><div class="ttdeci">#define ft_int32_t</div><div class="ttdef"><b>Definition</b> <a href="_f_t___gpu___hal_8h_source.html#l00055">FT_Gpu_Hal.h:55</a></div></div>
<div class="ttc" id="a_f_t___gpu___hal_8h_html_afcc26b8b3eec493e51140f9b3cfdad0a"><div class="ttname"><a href="_f_t___gpu___hal_8h.html#afcc26b8b3eec493e51140f9b3cfdad0a">ft_int16_t</a></div><div class="ttdeci">#define ft_int16_t</div><div class="ttdef"><b>Definition</b> <a href="_f_t___gpu___hal_8h_source.html#l00051">FT_Gpu_Hal.h:51</a></div></div>
<div class="ttc" id="a_f_t___m_queue_8c_html_a29badf76a29319be99f931d1298e6f19"><div class="ttname"><a href="_f_t___m_queue_8c.html#a29badf76a29319be99f931d1298e6f19">FT_RQueue_PeekELatest</a></div><div class="ttdeci">ft_int32_t FT_RQueue_PeekELatest(FT_RingQueue_t *prq, ft_void_t *pEle)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___m_queue_8c_source.html#l00076">FT_MQueue.c:76</a></div></div>
<div class="ttc" id="a_f_t___m_queue_8c_html_a9dbe30b69f2815a8d1cf4f98bbe194bf"><div class="ttname"><a href="_f_t___m_queue_8c.html#a9dbe30b69f2815a8d1cf4f98bbe194bf">FT_RQueue_WriteEInplace</a></div><div class="ttdeci">ft_int32_t FT_RQueue_WriteEInplace(FT_RingQueue_t *prq, ft_void_t *pEle)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___m_queue_8c_source.html#l00121">FT_MQueue.c:121</a></div></div>
<div class="ttc" id="a_f_t___m_queue_8c_html_ad25d7fae14d0421e790df0902cd2524b"><div class="ttname"><a href="_f_t___m_queue_8c.html#ad25d7fae14d0421e790df0902cd2524b">FT_RQueue_WriteE</a></div><div class="ttdeci">ft_int32_t FT_RQueue_WriteE(FT_RingQueue_t *prq, ft_void_t *pEle)</div><div class="ttdef"><b>Definition</b> <a href="_f_t___m_queue_8c_source.html#l00094">FT_MQueue.c:94</a></div></div>
<div class="ttc" id="a_f_t___m_queue_8h_html"><div class="ttname"><a href="_f_t___m_queue_8h.html">FT_MQueue.h</a></div></div>
<div class="ttc" id="a_f_t___platform_8h_html"><div class="ttname"><a href="_f_t___platform_8h.html">FT_Platform.h</a></div><div class="ttdoc">Platform APIs.</div></div>
<div class="ttc" id="a_gpu___hal_8cpp_html_a04a1691ce0140e203f03a6c9917b6d1b"><div class="ttname"><a href="_gpu___hal_8cpp.html#a04a1691ce0140e203f03a6c9917b6d1b">Fifo_Write</a></div><div class="ttdeci">uint32_t Fifo_Write(EVE_HalContext *host, Fifo_t *pFifo, uint8_t *buffer, uint32_t NumbytetoWrite)</div><div class="ttdef"><b>Definition</b> <a href="_gpu___hal_8cpp_source.html#l01014">Gpu_Hal.cpp:1014</a></div></div>
<div class="ttc" id="a_gpu___hal_8cpp_html_ad36d6a169a20d587e8035b98c96cd718"><div class="ttname"><a href="_gpu___hal_8cpp.html#ad36d6a169a20d587e8035b98c96cd718">Fifo_GetFreeSpace</a></div><div class="ttdeci">uint32_t Fifo_GetFreeSpace(EVE_HalContext *host, Fifo_t *pFifo)</div><div class="ttdef"><b>Definition</b> <a href="_gpu___hal_8cpp_source.html#l01111">Gpu_Hal.cpp:1111</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a03d219bc1f860a88ad17713384d58e70"><div class="ttname"><a href="container__avi_8h.html#a03d219bc1f860a88ad17713384d58e70">FT_AVI_4CC_odml</a></div><div class="ttdeci">#define FT_AVI_4CC_odml</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00029">container_avi.h:29</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a117c503f039db1031c5233c265980ba2"><div class="ttname"><a href="container__avi_8h.html#a117c503f039db1031c5233c265980ba2">FT_AVI_4CC_vprp</a></div><div class="ttdeci">#define FT_AVI_4CC_vprp</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00048">container_avi.h:48</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a16459494581ed9a12d399bebafd07037"><div class="ttname"><a href="container__avi_8h.html#a16459494581ed9a12d399bebafd07037">FT_AVI_4CC_UNCOMPRESSED_VIDEO</a></div><div class="ttdeci">#define FT_AVI_4CC_UNCOMPRESSED_VIDEO</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00065">container_avi.h:65</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a1a36e0a3c5ee6b909cdbd4c2daf448ff"><div class="ttname"><a href="container__avi_8h.html#a1a36e0a3c5ee6b909cdbd4c2daf448ff">FT_AVI_4CC_INFO</a></div><div class="ttdeci">#define FT_AVI_4CC_INFO</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00031">container_avi.h:31</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a1a45a575aef3309eaee87c3b0243ac20"><div class="ttname"><a href="container__avi_8h.html#a1a45a575aef3309eaee87c3b0243ac20">FT_AVI_4CC_movi</a></div><div class="ttdeci">#define FT_AVI_4CC_movi</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00032">container_avi.h:32</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a25c6e010043c6d4d48c32234299e039c"><div class="ttname"><a href="container__avi_8h.html#a25c6e010043c6d4d48c32234299e039c">FT_AVI_4CC_auds</a></div><div class="ttdeci">#define FT_AVI_4CC_auds</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00034">container_avi.h:34</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a2a66a9aca3f0472b2195e4e639a1ed3a"><div class="ttname"><a href="container__avi_8h.html#a2a66a9aca3f0472b2195e4e639a1ed3a">FT_AVI_4CC_strf</a></div><div class="ttdeci">#define FT_AVI_4CC_strf</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00024">container_avi.h:24</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a51e72a3ed22764d30fad3c1ff8370cf0"><div class="ttname"><a href="container__avi_8h.html#a51e72a3ed22764d30fad3c1ff8370cf0">FT_AVI_4CC_hdrl</a></div><div class="ttdeci">#define FT_AVI_4CC_hdrl</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00021">container_avi.h:21</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a53d070a0e6c2224073c2824ca83cb189"><div class="ttname"><a href="container__avi_8h.html#a53d070a0e6c2224073c2824ca83cb189">FT_AVI_4CC_strn</a></div><div class="ttdeci">#define FT_AVI_4CC_strn</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00026">container_avi.h:26</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a5c3921fe45815203bddca5749cefa8af"><div class="ttname"><a href="container__avi_8h.html#a5c3921fe45815203bddca5749cefa8af">FT_AVI_4CC_vids</a></div><div class="ttdeci">#define FT_AVI_4CC_vids</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00037">container_avi.h:37</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a5f1b93b69cc07ec6a6d01fdc553f1d4c"><div class="ttname"><a href="container__avi_8h.html#a5f1b93b69cc07ec6a6d01fdc553f1d4c">FT_AVI_4CC_indx</a></div><div class="ttdeci">#define FT_AVI_4CC_indx</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00038">container_avi.h:38</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a6a8a9f535b7a1909aac4ef77a42fe169"><div class="ttname"><a href="container__avi_8h.html#a6a8a9f535b7a1909aac4ef77a42fe169">FT_AVI_4CC_strd</a></div><div class="ttdeci">#define FT_AVI_4CC_strd</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00027">container_avi.h:27</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a6bd12a538647ea48813664e616233151"><div class="ttname"><a href="container__avi_8h.html#a6bd12a538647ea48813664e616233151">__attribute__</a></div><div class="ttdeci">struct avistreamheader_t __attribute__((packed)) AVISTREAMHEADER</div></div>
<div class="ttc" id="acontainer__avi_8h_html_a6fbb6014ea8cf9adbd0ee6524e1dc457"><div class="ttname"><a href="container__avi_8h.html#a6fbb6014ea8cf9adbd0ee6524e1dc457">FT_WAVE_FORMAT_PCM</a></div><div class="ttdeci">#define FT_WAVE_FORMAT_PCM</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00128">container_avi.h:128</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a7f2c18bb0cff69b1124cae199881091e"><div class="ttname"><a href="container__avi_8h.html#a7f2c18bb0cff69b1124cae199881091e">FT_AVI_4CC_PALETTE_CHANGE</a></div><div class="ttdeci">#define FT_AVI_4CC_PALETTE_CHANGE</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00068">container_avi.h:68</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a7f9f163fe4614654cdf677da758b999d"><div class="ttname"><a href="container__avi_8h.html#a7f9f163fe4614654cdf677da758b999d">FT_AVI_4CC_strh</a></div><div class="ttdeci">#define FT_AVI_4CC_strh</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00025">container_avi.h:25</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a83032fc8280ef1cdb65643a864525cc9"><div class="ttname"><a href="container__avi_8h.html#a83032fc8280ef1cdb65643a864525cc9">FT_AVI_4CC_JUNK</a></div><div class="ttdeci">#define FT_AVI_4CC_JUNK</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00033">container_avi.h:33</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a855791aaca0e32e70ee312d938ee8400"><div class="ttname"><a href="container__avi_8h.html#a855791aaca0e32e70ee312d938ee8400">FT_AVI_4CC_rec</a></div><div class="ttdeci">#define FT_AVI_4CC_rec</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00019">container_avi.h:19</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a89a50c07f9b86e41176458fc31b4a168"><div class="ttname"><a href="container__avi_8h.html#a89a50c07f9b86e41176458fc31b4a168">FT_AVI_4CC_strl</a></div><div class="ttdeci">#define FT_AVI_4CC_strl</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00023">container_avi.h:23</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a8a528836d950ef79fe79dac6f7926d8c"><div class="ttname"><a href="container__avi_8h.html#a8a528836d950ef79fe79dac6f7926d8c">FT_AVI_4CC_idx1</a></div><div class="ttdeci">#define FT_AVI_4CC_idx1</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00020">container_avi.h:20</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_a94ee1e48b78d194453500fa5a3ae2ea5"><div class="ttname"><a href="container__avi_8h.html#a94ee1e48b78d194453500fa5a3ae2ea5">FT_AVI_4CC_dmlh</a></div><div class="ttdeci">#define FT_AVI_4CC_dmlh</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00030">container_avi.h:30</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_aa5ee9b27429186f527e7404e236ac0b8"><div class="ttname"><a href="container__avi_8h.html#aa5ee9b27429186f527e7404e236ac0b8">FT_AVI_4CC_AVIX</a></div><div class="ttdeci">#define FT_AVI_4CC_AVIX</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00017">container_avi.h:17</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_ab3ad6f098114bbee79d0310dc8ce936d"><div class="ttname"><a href="container__avi_8h.html#ab3ad6f098114bbee79d0310dc8ce936d">FT_AVI_4CC_AVI</a></div><div class="ttdeci">#define FT_AVI_4CC_AVI</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00016">container_avi.h:16</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_ac143568c3575f5a6fd01fdc883df3cb3"><div class="ttname"><a href="container__avi_8h.html#ac143568c3575f5a6fd01fdc883df3cb3">FT_AVI_4CC_TEXT</a></div><div class="ttdeci">#define FT_AVI_4CC_TEXT</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00067">container_avi.h:67</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_ac162d0784e419fcf0bce8eafb04a3250"><div class="ttname"><a href="container__avi_8h.html#ac162d0784e419fcf0bce8eafb04a3250">FT_AVI_4CC_LIST</a></div><div class="ttdeci">#define FT_AVI_4CC_LIST</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00018">container_avi.h:18</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_ac5cf375010bae17ad68059c9a2a21541"><div class="ttname"><a href="container__avi_8h.html#ac5cf375010bae17ad68059c9a2a21541">cbSize</a></div><div class="ttdeci">ft_uint16_t cbSize</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00008">container_avi.h:8</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_acd648f7cab507c8d7ac2dde971284e0b"><div class="ttname"><a href="container__avi_8h.html#acd648f7cab507c8d7ac2dde971284e0b">FT_AVI_4CC_RIFF</a></div><div class="ttdeci">#define FT_AVI_4CC_RIFF</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00015">container_avi.h:15</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_ad112741aacbdea50492793953f7a4b7f"><div class="ttname"><a href="container__avi_8h.html#ad112741aacbdea50492793953f7a4b7f">FT_AVI_4CC_isft</a></div><div class="ttdeci">#define FT_AVI_4CC_isft</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00028">container_avi.h:28</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_ad13e597702618c1568a59e4df14df0a1"><div class="ttname"><a href="container__avi_8h.html#ad13e597702618c1568a59e4df14df0a1">FT_AVI_4CC_avih</a></div><div class="ttdeci">#define FT_AVI_4CC_avih</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00022">container_avi.h:22</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_ada88d82970d43ace34223da0b026f547"><div class="ttname"><a href="container__avi_8h.html#ada88d82970d43ace34223da0b026f547">FT_AVI_4CC_COMPRESSED_VIDEO</a></div><div class="ttdeci">#define FT_AVI_4CC_COMPRESSED_VIDEO</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00064">container_avi.h:64</a></div></div>
<div class="ttc" id="acontainer__avi_8h_html_aeb0711ffeb7e99672eed0498b314bbad"><div class="ttname"><a href="container__avi_8h.html#aeb0711ffeb7e99672eed0498b314bbad">FT_AVI_4CC_AUDIO</a></div><div class="ttdeci">#define FT_AVI_4CC_AUDIO</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00066">container_avi.h:66</a></div></div>
<div class="ttc" id="aff_8c_html_ac4c3dcb6869ca252888eebabe39727b3"><div class="ttname"><a href="ff_8c.html#ac4c3dcb6869ca252888eebabe39727b3">f_read</a></div><div class="ttdeci">FRESULT f_read(FIL *fp, void *buff, UINT btr, UINT *br)</div><div class="ttdef"><b>Definition</b> <a href="ff_8c_source.html#l03850">ff.c:3850</a></div></div>
<div class="ttc" id="aff_8c_html_aefdef7126128d99d0b3bd82c28e54d80"><div class="ttname"><a href="ff_8c.html#aefdef7126128d99d0b3bd82c28e54d80">f_open</a></div><div class="ttdeci">FRESULT f_open(FIL *fp, const TCHAR *path, BYTE mode)</div><div class="ttdef"><b>Definition</b> <a href="ff_8c_source.html#l03653">ff.c:3653</a></div></div>
<div class="ttc" id="aff_8h_html_a1f4f3530ff03abbd979b072536e72290"><div class="ttname"><a href="ff_8h.html#a1f4f3530ff03abbd979b072536e72290">FA_READ</a></div><div class="ttdeci">#define FA_READ</div><div class="ttdef"><b>Definition</b> <a href="ff_8h_source.html#l00386">ff.h:386</a></div></div>
<div class="ttc" id="aff_8h_html_a26f33722c5bf1aa3cd6f0290a83eb2bc"><div class="ttname"><a href="ff_8h.html#a26f33722c5bf1aa3cd6f0290a83eb2bc">f_size</a></div><div class="ttdeci">#define f_size(fp)</div><div class="ttdef"><b>Definition</b> <a href="ff_8h_source.html#l00342">ff.h:342</a></div></div>
<div class="ttc" id="aff_8h_html_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1"><div class="ttname"><a href="ff_8h.html#a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1">FR_OK</a></div><div class="ttdeci">@ FR_OK</div><div class="ttdef"><b>Definition</b> <a href="ff_8h_source.html#l00277">ff.h:277</a></div></div>
<div class="ttc" id="aff_8h_html_a5e1daca7ce13cdc277e42185f7f9124f"><div class="ttname"><a href="ff_8h.html#a5e1daca7ce13cdc277e42185f7f9124f">f_tell</a></div><div class="ttdeci">#define f_tell(fp)</div><div class="ttdef"><b>Definition</b> <a href="ff_8h_source.html#l00341">ff.h:341</a></div></div>
<div class="ttc" id="astruct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t_html"><div class="ttname"><a href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html">AVI_CONTAINER_IDX1_ENTRY_t</a></div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00318">container_avi.h:318</a></div></div>
<div class="ttc" id="astruct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t_html_a8eb34770a0414dc2fde684adf3d9b40f"><div class="ttname"><a href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html#a8eb34770a0414dc2fde684adf3d9b40f">AVI_CONTAINER_IDX1_ENTRY_t::dwChunkId</a></div><div class="ttdeci">ft_uint32_t dwChunkId</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00319">container_avi.h:319</a></div></div>
<div class="ttc" id="astruct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t_html_aafc9fd31f2528a918696df4ecee9eada"><div class="ttname"><a href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html#aafc9fd31f2528a918696df4ecee9eada">AVI_CONTAINER_IDX1_ENTRY_t::dwSize</a></div><div class="ttdeci">ft_uint32_t dwSize</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00322">container_avi.h:322</a></div></div>
<div class="ttc" id="astruct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t_html_ab772f4c1a53ba94eb37e8fdd8bb471f8"><div class="ttname"><a href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html#ab772f4c1a53ba94eb37e8fdd8bb471f8">AVI_CONTAINER_IDX1_ENTRY_t::dwOffset</a></div><div class="ttdeci">ft_uint32_t dwOffset</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00321">container_avi.h:321</a></div></div>
<div class="ttc" id="astruct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t_html_ad13bfcaa480d04d2d50fe5552c98a562"><div class="ttname"><a href="struct_a_v_i___c_o_n_t_a_i_n_e_r___i_d_x1___e_n_t_r_y__t.html#ad13bfcaa480d04d2d50fe5552c98a562">AVI_CONTAINER_IDX1_ENTRY_t::dwFlags</a></div><div class="ttdeci">ft_uint32_t dwFlags</div><div class="ttdef"><b>Definition</b> <a href="container__avi_8h_source.html#l00320">container_avi.h:320</a></div></div>
<div class="ttc" id="astruct_f_i_l_html"><div class="ttname"><a href="struct_f_i_l.html">FIL</a></div><div class="ttdef"><b>Definition</b> <a href="ff_8h_source.html#l00205">ff.h:205</a></div></div>
<div class="ttc" id="astruct_f_t___a_v_i_parser_html"><div class="ttname"><a href="struct_f_t___a_v_i_parser.html">FT_AVIParser</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00610">FT_AVIParser.h:611</a></div></div>
<div class="ttc" id="astruct_f_t___a_v_i_parser_html_a58f9a989a58e69a16e9dd5e190475dc0"><div class="ttname"><a href="struct_f_t___a_v_i_parser.html#a58f9a989a58e69a16e9dd5e190475dc0">FT_AVIParser::NumRiff</a></div><div class="ttdeci">ft_uint8_t NumRiff</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00613">FT_AVIParser.h:613</a></div></div>
<div class="ttc" id="astruct_f_t___a_v_i_riff_html"><div class="ttname"><a href="struct_f_t___a_v_i_riff.html">FT_AVIRiff</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00522">FT_AVIParser.h:523</a></div></div>
<div class="ttc" id="astruct_f_t___a_v_i_riff_html_a16782af2a72e627f87413d08fdaa64d6"><div class="ttname"><a href="struct_f_t___a_v_i_riff.html#a16782af2a72e627f87413d08fdaa64d6">FT_AVIRiff::indxOff</a></div><div class="ttdeci">ft_uint32_t indxOff</div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00528">FT_AVIParser.h:528</a></div></div>
<div class="ttc" id="astruct_f_t___aud_data_path_html"><div class="ttname"><a href="struct_f_t___aud_data_path.html">FT_AudDataPath</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00574">FT_AVIParser.h:575</a></div></div>
<div class="ttc" id="astruct_f_t___avi_a_html"><div class="ttname"><a href="struct_f_t___avi_a.html">FT_AviA</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00554">FT_AVIParser.h:555</a></div></div>
<div class="ttc" id="astruct_f_t___avi_v_html"><div class="ttname"><a href="struct_f_t___avi_v.html">FT_AviV</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00535">FT_AVIParser.h:536</a></div></div>
<div class="ttc" id="astruct_f_t___meta_a_html"><div class="ttname"><a href="struct_f_t___meta_a.html">FT_MetaA</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00509">FT_AVIParser.h:510</a></div></div>
<div class="ttc" id="astruct_f_t___meta_v_html"><div class="ttname"><a href="struct_f_t___meta_v.html">FT_MetaV</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00482">FT_AVIParser.h:483</a></div></div>
<div class="ttc" id="astruct_f_t___n_buffer_html"><div class="ttname"><a href="struct_f_t___n_buffer.html">FT_NBuffer</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___m_queue_8h_source.html#l00060">FT_MQueue.h:61</a></div></div>
<div class="ttc" id="astruct_f_t___n_buffer_html_ae4489f025f5e0b9c6cb3d0bd549c9d22"><div class="ttname"><a href="struct_f_t___n_buffer.html#ae4489f025f5e0b9c6cb3d0bd549c9d22">FT_NBuffer::Length</a></div><div class="ttdeci">ft_int32_t Length</div><div class="ttdef"><b>Definition</b> <a href="_f_t___m_queue_8h_source.html#l00063">FT_MQueue.h:63</a></div></div>
<div class="ttc" id="astruct_f_t___ring_buffer_html"><div class="ttname"><a href="struct_f_t___ring_buffer.html">FT_RingBuffer</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___buffer_8h_source.html#l00029">FT_Buffer.h:30</a></div></div>
<div class="ttc" id="astruct_f_t___ring_queue_html"><div class="ttname"><a href="struct_f_t___ring_queue.html">FT_RingQueue</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___m_queue_8h_source.html#l00026">FT_MQueue.h:27</a></div></div>
<div class="ttc" id="astruct_f_t___vid_data_path_html"><div class="ttname"><a href="struct_f_t___vid_data_path.html">FT_VidDataPath</a></div><div class="ttdef"><b>Definition</b> <a href="_f_t___a_v_i_parser_8h_source.html#l00588">FT_AVIParser.h:589</a></div></div>
<div class="ttc" id="astruct_fifo__t_html"><div class="ttname"><a href="struct_fifo__t.html">Fifo_t</a></div><div class="ttdef"><b>Definition</b> <a href="_gpu___hal_8h_source.html#l00152">Gpu_Hal.h:153</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_23b434f0b1741d567aef26b36da0db6c.html">DemoApps</a></li><li class="navelem"><a class="el" href="dir_9db7558d2398a126be7a1110d2b0ba3c.html">MediaPlayer</a></li><li class="navelem"><a class="el" href="dir_0243b27a152e85116773df31cdc5fc55.html">libs</a></li><li class="navelem"><a class="el" href="dir_0fe60b8664607e1940a91c87092cd8d5.html">AviPlayer</a></li><li class="navelem"><a class="el" href="_f_t___a_v_i_parser_8c.html">FT_AVIParser.c</a></li>
    <div align="right">
    Copyright © Bridgetek Pte Ltd  
    </div>  
  </ul>
</div>
</body>
</html>
